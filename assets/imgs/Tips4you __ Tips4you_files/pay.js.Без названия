(()=>{"use strict";var t={876:t=>{t.exports=function(t){return t&&t[0]}},937:t=>{t.exports=function(t){return t&&t.length}},460:t=>{t.exports=function(t,e){return function n(){for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return r.length>=t?e.apply(this,r):function(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];return n.apply(this,r.concat(e))}}}},292:(t,e,n)=>{var o=n(460);t.exports=o(2,(function(t,e){var n,o;return function(){for(var r=this,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];var u=Date.now(),c=n+t-u;n&&c>0?(clearTimeout(o),o=setTimeout((function(){n=u,e.apply(r,a)}),c)):(n=u,e.apply(this,a))}}))},32:t=>{t.exports=function(t){return"string"==typeof t||t instanceof String}},717:(t,e,n)=>{var o=n(460);t.exports=o(2,(function(t,e){void 0===t&&(t=[]),void 0===e&&(e={});for(var n=e,o=0;o<t.length;o++){if(null==n)return;n=n[t[o]]}return n}))},527:(t,e,n)=>{var o=n(460),r=n(717);t.exports=o(3,(function(t,e,n){void 0===t&&(t=[]),void 0===n&&(n={});var o=r(t,n);return null!=o?o:e}))},450:(t,e,n)=>{var o=n(400);t.exports=function(t){return o(t).join("_").toLowerCase()}},368:t=>{t.exports=function(t){return void 0===t&&(t=""),t.toLowerCase()}},194:t=>{t.exports=function(t){return void 0===t&&(t=""),t.toUpperCase()}},400:t=>{var e=/([a-z])([A-Z])/g,n=/[^a-zA-Z]+/g;t.exports=function(t){return t.replace(e,(function(t,e,n){return e+" "+n})).split(n)}}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={exports:{}};return t[o](i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.p="/web/sdk/v1/",(()=>{var t={url:"https://yandex.ru",env:"production",initTimestamp:0,reqid:"",page:"",project:"pay",platform:function(){try{return document.createEvent("TouchEvent"),"touch"}catch(t){return"desktop"}}(),version:"0.0.0",sessionId:"",merchantId:"",experiments:"",sheetEnv:""};function e(e){t=Object.assign({},t,e)}function o(){return t}function r(e){return void 0===e&&(e={}),{rum_id:"ru."+t.project+"."+t.platform,"-version":t.version,"-env":t.env,"-project":t.project,"-page":t.page,"-platform":t.platform,"-experiments":t.experiments,"-additional":JSON.stringify(Object.assign({sessionId:t.sessionId,merchantId:t.merchantId||t.sessionId.split(".")[0],env:t.sheetEnv},e))}}var i,a=5,s=500,u=[];function c(){var t=o();if(t.url&&0!==u.length){var e=u.join("\r\n");u=[],i=null;var n=t.url+"/clck/click";if(!(Boolean(navigator.sendBeacon)&&navigator.sendBeacon(n,e))){var r=new XMLHttpRequest;r.open("POST",n),r.send(e)}}}function d(){clearTimeout(i),c()}function h(t,e){clearTimeout(i);var n,r=function(t,e,n){return[t?"/reqid="+t:"",e?"/path="+e:"",n?"/vars="+n:"","/cts="+Date.now(),"/*"].join("")}(o().reqid,t,(n=e,Object.entries(n).reduce((function(t,e){var n=e[0],o=e[1];return(o||0===o)&&t.push(n+"="+encodeURIComponent(o).replace(/\*/g,"%2A")),t}),[]).join(",")));u.push(r),u.length<a?i=setTimeout(c,s):c()}window.addEventListener("beforeunload",d),window.addEventListener("unload",d),window.addEventListener("blur",d);var l=n(527),m=n.n(l),f=function(t,e,n){return void 0===n&&(n=void 0),m()(["flags",e],n,t)},p=function(t){},y={flags:{}},v={fn:p},g=new Promise((function(t){v.fn=function(e){var n=e.flags,o=e.experiments;v.fn=p,t(y={flags:n,experiments:o})}})),b=function(t,e){return function(t,e,n){var o=f(t,e);return void 0!==o&&(void 0===n||o===n)}(y,t,e)},w=function(t,e){return f(y,t,e)};function k(t,e){try{return JSON.parse(t)}catch(t){return e}}function S(t){var e=function(t){var e=t.message,n=t.level,i=void 0===n?"error":n,a=t.additional,s=o(),u=r();return Object.assign({},u,{"-msg":e,"-level":i,"-additional":JSON.stringify(Object.assign({},k(u["-additional"],{}),a)),"-ua":navigator.userAgent,"-ts":Date.now(),"-init-ts":s.initTimestamp})}(t);h("690.2354",e)}function C(t){return function(e,n){var o=n instanceof Error?{error:n.message}:n;S({level:t,message:e,additional:o})}}var P=C("fatal"),E=C("error"),B=C("warn"),M=C("info"),I=C("debug"),O=function(t){return t.Simple="SIMPLE",t.Pay="PAY",t.Checkout="CHECKOUT",t}({}),x=function(t){return t.White="WHITE",t.WhiteOutlined="WHITE-OUTLINED",t.Black="BLACK",t.Yellow="YELLOW",t}({}),_=function(t){return t.Auto="AUTO",t.Max="MAX",t.MaxImportant="MAX_IMPORTANT",t}({}),T=function(t){return t.Click="CLICK",t}({}),A=function(t){return t.Mini="Mini",t.Compact="Compact",t.BnplOffer="BnplOffer",t.BnplRequired="BnplRequired",t.BnplPreview="BnplPreview",t}({}),R=(A.Mini,A.Compact,A.BnplOffer,A.BnplRequired,A.BnplPreview,function(t){return t.Light="LIGHT",t.Dark="DARK",t}({})),U=function(t,e,n,o){return e.includes(t)?t:(B('SDK: Invalid "'+o+'" option',{value:t}),console.warn('The "'+o+'" option should be one of â€” '+e.join(", ")+"."),n)},L=function(t,e){var n=Object.assign({},e,t),o=n.type,r=n.theme,i=n.width;return n.type=U(o,Object.values(O),e.type,"type"),n.theme=U(r,Object.values(x),e.theme,"theme"),n.width=U(i,Object.values(_),e.width,"width"),n};var F,W,D,j="https://pay.yandex.ru/web",N="https://pay.yandex.ru",K=j+"/form",z=j+"/payment",V=j+"/checkout",q=j+"/sdk/v1/init-2",Y=j+"/sdk/v1/payment-method",H=j+"/sdk/v1/widget",J=j+"/sdk/v1/info-widget",Q=[960,705],G=[510,(F=820,W=window.screen.height,Math.min(W,F))],Z="ya-pay-button",X="ya-pay-backdrop",$="yandex-pay-badge",tt=j,et=j,nt="testing"===(D="production_vr8p6z9pn3".split("_")[0])?D:"production",ot=function(t){return t.SdkByTokenRequest="sdk--by-token-request",t.SdkByTokenRequestError="sdk--by-token-request.error",t.SdkRemountStickyButton="sdk--remount-sticky-button",t}({}),rt=""+(.001*Date.now()|0)+(1073741824*Math.random()|0),it=""+(1e3*Math.random()|0)+(.001*Date.now()|0),at="sdk-"+(1e3*Math.random()|0)+(.001*Date.now()|0),st=n(876),ut=n.n(st),ct=n(937),dt=n.n(ct),ht=function(t){return t.Token="Token",t.Payment="Payment",t.Checkout="Checkout",t.CheckoutOld="CheckoutOld",t.Subscription="Subscription",t.ByToken="ByToken",t}({}),lt=function(t){return t.Production="PRODUCTION",t.Sandbox="SANDBOX",t}({}),mt=function(t){return t.Ru="RU",t.Us="US",t.By="BY",t}({}),ft=function(t){return t.Rub="RUB",t.Byn="BYN",t.Usd="USD",t.Eur="EUR",t.Kzt="KZT",t.Uah="UAH",t.Amd="AMD",t.Gel="GEL",t.Azn="AZN",t.Kgs="KGS",t.Gbp="GBP",t.Sek="SEK",t.Pln="PLN",t.Inr="INR",t.Czk="CZK",t.Cad="CAD",t.Brl="BRL",t.Aud="AUD",t.Uzs="UZS",t.Chf="CHF",t.Try="TRY",t.Cny="CNY",t.Zar="ZAR",t.Bgn="BGN",t.Ron="RON",t.Hkd="HKD",t.Aed="AED",t}({}),pt=function(t){return t.Pickup="PICKUP",t.Shipping="SHIPPING",t.Discount="DISCOUNT",t.Promocode="PROMOCODE",t}({}),yt=function(t){return t.Card="CARD",t.Cash="CASH",t.Split="SPLIT",t}({}),vt=function(t){return t.CloudToken="CLOUD_TOKEN",t.PanOnly="PAN_ONLY",t}({}),gt=function(t){return t.AmericanExpress="AMEX",t.Discover="DISCOVER",t.Jcb="JCB",t.Mastercard="MASTERCARD",t.Visa="VISA",t.VisaElectron="VISAELECTRON",t.Maestro="MAESTRO",t.Mir="MIR",t.UnionPay="UNIONPAY",t.Uzcard="UZCARD",t}({}),bt=function(t){return t.Recurring="RECURRING",t.Deferred="DEFERRED",t}({});function wt(t){return 3===parseInt(null==t?void 0:t.version)&&!("merchant"in t)}function kt(t){return 2===parseInt(null==t?void 0:t.version)||"merchant"in t}function St(t){return 4===(null==t?void 0:t.version)}function Ct(t){return m()(["merchant","url"],"",t)}var Pt=function(t){return wt(t)||St(t)?m()(["merchantId"],"",t):m()(["merchant","id"],"",t)},Et=function(t){return wt(t)?m()(["orderId"],void 0,t):m()(["order","id"],void 0,t)},Bt=function(t){return m()(["total","amount"],"",t)||m()(["items"],[],t).reduce((function(t,e){return t+(Number(e.total)||0)}),0).toFixed(2)};var Mt=function(t){return St(t)?m()(["totalAmount"],"0",t):wt(t)?function(t){return Bt(t.cart)}(t):function(t){return m()(["order","total","amount"],"0",t)}(t)};function It(t){return(wt(t)||St(t))&&1===dt()(t.availablePaymentMethods)&&ut()(t.availablePaymentMethods)===yt.Split}var Ot=function(){if(!window)return!1;try{return window.self!==window.top}catch(t){return!0}};function xt(t){t.env===lt.Sandbox&&function(t){e({env:t})}("prestable")}function _t(t,e){return _t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_t(t,e)}function Tt(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,_t(t,e)}function At(t){return At=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},At(t)}function Rt(t,e,n){return Rt=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}()?Reflect.construct.bind():function(t,e,n){var o=[null];o.push.apply(o,e);var r=new(Function.bind.apply(t,o));return n&&_t(r,n.prototype),r},Rt.apply(null,arguments)}function Ut(t){var e="function"==typeof Map?new Map:void 0;return Ut=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,o)}function o(){return Rt(t,arguments,At(this).constructor)}return o.prototype=Object.create(t.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),_t(o,t)},Ut(t)}var Lt=function(t){function e(){return t.apply(this,arguments)||this}return Tt(e,t),e}(Ut(Error));function Ft(t,e){if(!t){var n=new Lt(e);throw M("assert-error",n),n}}var Wt,Dt=function(t){return null!==t&&"object"==typeof t},jt=function(t){return"function"==typeof t},Nt=function(t){return(Dt(t)||jt(t))&&jt(t.then)};function Kt(t){if(wt(t)||St(t))return!1;var e=t.requiredFields;return Boolean(e&&("shippingContact"in e||"shippingTypes"in e))}function zt(t){wt(t)&&function(t,e){return Dt(e)&&Object.prototype.hasOwnProperty.call(e,t)}("metadata",t)&&(Ft("string"==typeof t.metadata,"sheet.metadata must be a string"),"string"==typeof t.metadata&&Ft(encodeURIComponent(t.metadata).length<=256,"sheet.metadata is too long"))}var Vt=function(t){return t.type?t.type:St(t)?ht.ByToken:wt(t)?t.orderId?ht.Payment:ht.Checkout:Kt(t)?ht.CheckoutOld:ht.Token},qt=function(t){return[ht.Payment,ht.Checkout].includes(t)},Yt=function(t,e){return kt(t)&&"order"in e?(t.order=Object.assign({},t.order,e.order),!0):wt(t)&&("cart"in e||"metadata"in e)?(t.cart=Object.assign({},t.cart,e.cart),t.metadata=e.metadata||t.metadata,!0):!(!St(t)||!("totalAmount"in e))&&(t.totalAmount=e.totalAmount||t.totalAmount,!0)},Ht=((Wt={})[ht.Token]="payment",Wt[ht.Payment]="payment-v3",Wt[ht.Checkout]="checkout-v3",Wt[ht.CheckoutOld]="checkout",Wt[ht.Subscription]="subscription",Wt[ht.ByToken]="payment-v3",Wt);function Jt(t,e){return"string"==typeof t?encodeURIComponent(t):Math.round(1e3*(t-(e||0)))/1e3}var Qt={};function Gt(t,e,n){void 0===n&&(n={});var o=r(n),i={1701:t,2877:Jt(e)};Object.entries(o).forEach((function(t){var e=t[0],n=t[1];i[e]=String(n)})),h("690.2096.2877",i)}function Zt(t){Qt[t]=[Date.now()]}function Xt(t){var e=Qt[t];e&&0!==e.length&&(e.push(Date.now(),r()),function(t){var e,n,o,r=Qt[t];if(r&&(e=r[0],n=r[1],o=r[2]),void 0!==e&&void 0!==n){var i={1701:t,207.2154:Jt(e),207.1428:Jt(n),2877:Jt(n-e)};Object.entries(o).forEach((function(t){var e=t[0],n=t[1];i[e]=String(n)})),h("690.2096.2877",i),delete Qt[t]}}(t))}var $t=function(t){return t[t.InitFrameCreationStarted=0]="InitFrameCreationStarted",t[t.InitFrameCreated=1]="InitFrameCreated",t[t.FirstSessionCreationStarted=2]="FirstSessionCreationStarted",t[t.SessionCreationStarted=3]="SessionCreationStarted",t[t.SessionCreated=4]="SessionCreated",t[t.FirstViewMountingStarted=5]="FirstViewMountingStarted",t[t.WidgetMountingStarted=6]="WidgetMountingStarted",t[t.WidgetMounted=7]="WidgetMounted",t[t.SimpleButtonMountingStarted=8]="SimpleButtonMountingStarted",t[t.SimpleButtonMounted=9]="SimpleButtonMounted",t[t.PersonalButtonMountingStarted=10]="PersonalButtonMountingStarted",t[t.PersonalButtonMounted=11]="PersonalButtonMounted",t}({}),te=function(t){return t.CreateInitFrame="sdk--create-init-frame",t.WaitInitFrame="sdk--wait-init-frame",t.WaitCreateSession="sdk--wait-create-session",t.CreateSession="sdk--create-session",t.WaitMount="sdk--wait-mount",t.ShowWidget="sdk--show-widget",t.ShowSimpleButton="sdk--show-simple-button",t.ShowSimpleButtonByWidget="sdk--show-simple-button.by-widget",t.ShowPersonalButton="sdk--show-personal-button",t.ShowPersonalButtonByWidget="sdk--show-personal-button.by-widget",t.ShowSimpleButtonFromCreate="sdk--show-simple-button.from-create",t.ShowSimpleButtonFromCreateByWidget="sdk--show-simple-button.by-widget.from-create",t.ShowPersonalButtonFromCreate="sdk--show-personal-button.from-create",t.ShowPersonalButtonFromCreateByWidget="sdk--show-personal-button.by-widget.from-create",t}(te||{}),ee={deltaName:te.CreateInitFrame,from:$t.InitFrameCreationStarted,to:$t.InitFrameCreated},ne={deltaName:te.WaitInitFrame,sendZero:!0,from:$t.FirstSessionCreationStarted,to:$t.InitFrameCreated},oe={deltaName:te.WaitCreateSession,sendZero:!0,from:$t.InitFrameCreated,to:$t.FirstSessionCreationStarted},re={deltaName:te.CreateSession,from:$t.SessionCreationStarted,to:$t.SessionCreated},ie={deltaName:te.WaitMount,from:$t.SessionCreated,to:$t.FirstViewMountingStarted},ae={deltaName:te.ShowWidget,from:$t.WidgetMountingStarted,to:$t.WidgetMounted},se=function(t){var e=t.isInWidget;return{deltaName:Boolean(e)?te.ShowSimpleButtonByWidget:te.ShowSimpleButton,from:$t.SimpleButtonMountingStarted,to:$t.SimpleButtonMounted}},ue=function(t){var e=t.isInWidget;return{deltaName:Boolean(e)?te.ShowPersonalButtonByWidget:te.ShowPersonalButton,from:$t.PersonalButtonMountingStarted,to:$t.PersonalButtonMounted}},ce=function(t){var e=t.isInWidget,n=[re];return n.push(se({isInWidget:e})),{deltaName:Boolean(e)?te.ShowSimpleButtonFromCreateByWidget:te.ShowSimpleButtonFromCreate,trigger:$t.SimpleButtonMounted,include:n}};function de(t){return void 0!==t.trigger}var he=[ee,ne,oe,re,ie,ae,se,ue,ce,function(t){var e=t.isInWidget,n=ce({isInWidget:e}).include;return n.push(ue({isInWidget:e})),{deltaName:Boolean(e)?te.ShowPersonalButtonFromCreateByWidget:te.ShowPersonalButtonFromCreate,trigger:$t.PersonalButtonMounted,include:n}}];function le(t,e){return e-t}function me(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return fe(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fe(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0;return function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function fe(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var pe=function(){function t(t,e){this.marks=void 0,this.additional=void 0,this.marks=[].concat(t),this.additional=e}t.of=function(t){return this.registry.get(t)||this.primary},t.ofSession=function(t){return this.sessionRegistry.get(t)||this.primary},t.unbindFromSession=function(t){this.sessionRegistry.delete(t)};var e=t.prototype;return e.fork=function(e){return void 0===e&&(e={}),new t(this.marks,Object.assign({},this.additional,e))},e.bind=function(e){t.registry.set(e,this)},e.bindBySession=function(e){t.sessionRegistry.set(e,this)},e.send=function(t,e){Gt(t,e,this.additional)},e.trySendSimple=function(t){var e=t.deltaName,n=t.sendZero,o=t.from,r=t.to;if(this.has(o)&&this.has(r)){var i=le(this.get(o),this.get(r));this.send(e,i)}else n&&this.has(r)&&this.send(e,0)},e.trySendCompound=function(t){for(var e,n=t.deltaName,o=0,r=me(t.include);!(e=r()).done;){var i=e.value,a=i.from,s=i.to;if(!this.has(a)||!this.has(s))return;o+=le(this.get(a),this.get(s))}this.send(n,o)},e.trySend=function(t){if(this.has(t))for(var e,n=me(he);!(e=n()).done;){var o=e.value;"function"==typeof o&&(o=o(this.additional)),de(o)?o.trigger===t&&this.trySendCompound(o):o.to===t&&this.trySendSimple(o)}},e.has=function(t){return void 0!==this.marks[t]},e.get=function(t){return this.marks[t]},e.mark=function(t){this.has(t)||(this.marks[t]=window.performance?performance.now():Date.now(),this.trySend(t))},t}();pe.registry=new WeakMap,pe.sessionRegistry=new Map,pe.primary=new pe([],{});var ye=function(t){return encodeURIComponent(t)},ve="https://mc.yandex.ru",ge="",be={pageUrl:"",hostname:""},we="";function ke(t,e,n){if(void 0===e&&(e={}),void 0===n&&(n=function(){}),!ge)return n("no-counter"),"";var o=.001*Date.now()|0,r=1073741824*Math.random()|0,i=be.ymUid||""+o+r,a=t.viewUrl||be.pageUrl,s="",u="",c=[];t.params&&(u=JSON.stringify(t.params),c=["pa:1","ar:1"]),t.goal&&(s=a,a="goal://"+be.hostname+"/"+t.goal),t.viewUrl&&(c=["pv:1"]),c=[].concat(c,["et:"+o,"st:"+o,"rn:"+r,"u:"+i,"t:"]);var d=[ve+"/watch/"+ge+"/1","?charset=utf-8","&page-url="+ye(a),"&exp="+ye(we),"&page-ref="+ye(s),"&site-info="+ye(u),"&browser-info="+ye(c.join(":"))].join("");if(e.skipSend)return n(),d;var h=new Image;return h.onload=function(){return n()},h.onerror=function(){return n("onerror")},h.src=d,d}function Se(t,e,n){return ke({params:t},e,n)}function Ce(t,e,n,o){return ke({goal:t,params:e},n,o)}var Pe,Ee=function(t){return void 0===t&&(t=5),Math.random().toString(16).slice(2,2+t)},Be=window.location.origin,Me=window.location.pathname,Ie=m()(["merchant","name"],"noname"),Oe=m()(["currencyCode"],""),xe=m()(["type"],""),_e=m()(["order","total","amount"],""),Te=m()(["version"],0),Ae=m()(["requiredFields","billingContact"],!1),Re=m()(["requiredFields","shippingContact"],!1),Ue=m()(["requiredFields","shippingTypes","direct"],!1),Le=m()(["requiredFields","shippingTypes","pickup"],!1),Fe=function(t){return String(!!t)},We=function(t,e,n){var o,r,i,a;void 0===n&&(n={});var s=t[0],u=t[1],c=u?((r={})[u]=((o={})[e]=Object.assign({},n,{datetime:Date.now()}),o),r):((i={})[e]=Object.assign({},n,{datetime:Date.now()}),i);return(a={origin:Be})[s]=c,a};function De(t){!function(t){we=t}(t)}function je(t){return[Pt(t),Ee(8),Date.now()].join(".")}function Ne(t,e){var n=e?"click-"+e:"";return n?[t,n]:[t]}var Ke=function(t,e,n,o){var r=Ne(e);Pe&&Ce("multi_buttons_page"),Pe=t;var i,a,s=xe(t),u={type:Ht[s],sessionType:s,merchant_id:Pt(t),merchant_origin:Be,merchant_path:Me,merchant_name:Ie(t),merchant_url:Ct(t)||"nourl",currency:Oe(t),amount:_e(t),version:Te(t),datetime:Te(t),agent:n||{name:"",version:""},source:o||"",checkout:s===ht.CheckoutOld,form_billing_contact:Fe(Ae(t)),form_shipping_contact:Fe(Re(t)),form_shipping_address:Fe(Ue(t)),form_pickup_address:Fe(Le(t)),build_version:"133"};ke({viewUrl:window.location.origin},i,a),Se(We(r,"meta",u))},ze=function(t){var e=Ne(t);Se(We(e,"payment_skip"))},Ve=function(t){var e=Ne(t);Se(We(e,"payment_init"))},qe=function(t,e){var n=Ne(t);Se(We(n,"payment_complete",{reason:e}))},Ye=function(t,e){var n=Ne(t,e);Se(We(n,"pay_button_click"))},He=function(t,e){var n=Ne(t,e);Se(We(n,"payment_checkout_pra"))},Je=function(t,e){var n=Ne(t);Se(We(n,"payment_complete_pra",{result:e}))},Qe=function(t,e,n){var o=Ne(t);Se(We(o,"payment_fail_pra",{error:e,time:n}))},Ge=function(t,e,n){var o=Ne(t),r=function(t,e){var n=null,o=function(t){n&&(clearTimeout(n),n=null,e(t))};return n=setTimeout((function(){return o("timeout")}),t),o}(e,n);Se(We(o,"payment_process"),{},r)},Ze=function(t,e){Ce("pay_button_render");var n=Ne(t);Se(We(n,"pay_button_render",e))},Xe=function(t,e){Ce("pay_widget_render");var n=Ne(t);Se(We(n,"pay_widget_render",e))},$e=function(t,e){var n=Ne(t);Se(We(n,"pay_button_load",e))},tn=function(t){var e=Ne(t);Se(We(e,"webview_with_frame"))},en=function(t){var e=Ne(t);Se(We(e,"sticky_button_init"))},nn=function(t){var e=Ne(t);Se(We(e,"sticky_button_mounted"))},on=function(t){var e=Ne(t);Se(We(e,"sticky_button_mount_error"))},rn=function(t){Se({sdk_mount_badge:t})},an=function(t,e){Se({first_render_badge:Object.assign({},t,{throwJs:e})})},sn=function(t,e){Se({badge_added:Object.assign({},t,{throwJs:e})})},un=function(t,e){var n=Ne(t);Se(We(n,"payment_by_token_error",{click:e}))};function cn(t,e){if(null==t)return{};var n,o,r={},i=Object.keys(t);for(o=0;o<i.length;o++)n=i[o],e.indexOf(n)>=0||(r[n]=t[n]);return r}function dn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hn(t){return hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hn(t)}function ln(t){var e=function(t,e){if("object"!==hn(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==hn(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===hn(e)?e:String(e)}function mn(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,ln(o.key),o)}}function fn(t,e,n){return e&&mn(t.prototype,e),n&&mn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var pn=function(){function t(){this.listeners=[]}var e=t.prototype;return e.emit=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this.listeners.forEach((function(t){t.apply(void 0,e)}))},e.on=function(t){var e=this;return this.listeners.push(t),function(){e.off(t)}},e.off=function(t){this.listeners=this.listeners.filter((function(e){return e!==t}))},e.destroy=function(){this.listeners=[]},t}(),yn=/^([^#?]*)?(\?[^#]*)?(#.*)?$/;function vn(t){window.location.assign(t)}function gn(){return window.location.toString()}function bn(t,e){void 0===e&&(e="");try{return new URL(t).origin}catch(t){return e}}function wn(t,e){void 0===e&&(e="");try{return new URL(t).pathname}catch(t){return e}}function kn(t,e){void 0===e&&(e="");try{var n=new URL(t);return[n.origin,n.pathname].join("")}catch(t){return e}}function Sn(t){var e=t.match(yn)||[],n=(e[0],e[1]),o=void 0===n?"":n,r=e[2],i=void 0===r?"":r,a=e[3];return{poorUrl:o,search:i,hash:void 0===a?"":a}}function Cn(t){var e=function(t){return Sn(t).search.slice(1)}(t),n={};return e?e.split("&").reduce((function(t,e){var n=e.split("="),o=n[0],r=n[1];try{t[decodeURIComponent(o)]=decodeURIComponent(r)}catch(t){}return t}),n):n}function Pn(t,e){var n=Sn(t),o=function(t){return Object.entries(t).filter((function(t){return t[0],void 0!==t[1]})).map((function(t){var e=t[0],n=t[1];return encodeURIComponent(e)+"="+encodeURIComponent(n)})).join("&")}(Object.assign({},Cn(t),e));return[n.poorUrl,o?"?":"",o,n.hash].join("")}var En=function(t){this.options=t},Bn="*",Mn="*",In="__YP__",On="__FQM__",xn=function(){function t(t,e,n){void 0===e&&(e=Mn),this.payload=t,this.channel=e,this.sourceUrl=n}var e=t.prototype;return e.toJSON=function(){return this.sourceUrl?{payload:this.payload,channel:this.channel,sourceUrl:this.sourceUrl}:{payload:this.payload,channel:this.channel}},e.toString=function(){return JSON.stringify(this)},fn(t,[{key:"origin",get:function(){return this.sourceUrl&&bn(this.sourceUrl)||Bn}}]),t}(),_n=function(t){return/Android/i.test(t)},Tn=function(t){return/iphone|ipod|ipad/i.test(t)},An=function(t){return/safari/i.test(t)&&!/chrome/i.test(t)},Rn=navigator.userAgent,Un=/Firefox/i.test(Rn),Ln=An(Rn),Fn=_n(Rn),Wn=Tn(Rn),Dn=(function(t){Tn(t)&&An(t)}(Rn),/YaBrowser|BroPP/i.test(Rn)),jn=function(){return window.top},Nn=function(){return function(t){return _n(t)&&/Version\d+.*\d+.0.0.0 Mobile|; ?wv|WebView/i.test(t)}(navigator.userAgent)?null:jn().opener},Kn=function(t,e,n){var o;return void 0===n&&(n=!1),Pn(t,((o={})[In]=e,o[On]=n?"1":void 0,o))},zn=function(t,e){if(t.origin!==e.targetOrigin&&t.origin!==Bn&&e.targetOrigin!==Bn&&t.origin!==location.origin)throw new Error("Failed to process a message with a different origin\n message origin â€” "+t.origin+"\n target origin â€” "+e.targetOrigin);if(t.channel!==e.channel&&t.channel!==Mn&&e.channel!==Mn)throw new Error("Failed to process a message with a different channel\n message channel â€” "+t.channel+"\n current channel â€” "+e.targetOrigin);return t},Vn=function(t){var e=JSON.parse(t.data),n=e.sourceUrl&&bn(e.sourceUrl)===t.origin?e.sourceUrl:t.origin;return new xn(e.payload,e.channel,n)},qn={},Yn=function(t){if(!qn[t])try{qn[t]=new BroadcastChannel(t)}catch(e){qn[t]={onmessage:function(){},addEventListener:function(){},removeEventListener:function(){},postMessage:function(){},close:function(){}}}return qn[t]},Hn=function(){return Boolean(window.BroadcastChannel)},Jn=function(t){function e(e){var n;return(n=t.call(this,e)||this)._bc=void 0,n._bc=Yn(n.options.sessionId),n}Tt(e,t);var n=e.prototype;return n.createMessage=function(t){return new xn(t,this.options.channel,this.options.sourceUrl)},n.send=function(t){var e=this.createMessage(t);this._bc.postMessage(String(e))},n.destroy=function(){},fn(e,[{key:"isConnected",get:function(){return!0}}]),e}(En),Qn=function(t){function e(e){var n;return(n=t.call(this)||this).options=e,n}return Tt(e,t),e.prototype.processMessage=function(t){var e=zn(t,this.options);this.emit(e.payload,e)},e}(pn),Gn=function(t){function e(e){var n;return(n=t.call(this,e)||this)._bc=void 0,n.onMessage=function(t){try{var e=Vn(t);n.processMessage(e)}catch(t){0}},n._bc=Yn(n.options.sessionId),n._bc.addEventListener("message",n.onMessage),n}return Tt(e,t),e.prototype.destroy=function(){this._bc.removeEventListener("message",this.onMessage)},e}(Qn),Zn=function(){function t(t){var e,n;void 0===t&&(t={}),this.targetUrl=void 0,this.channel=void 0,this.sessionId=void 0,this.targetUrl=null!==(e=t.targetUrl)&&void 0!==e?e:"/",this.channel=null!==(n=t.channel)&&void 0!==n?n:Mn,this.sessionId=t.sessionId}return fn(t,[{key:"targetOrigin",get:function(){return bn(this.targetUrl)||Bn}},{key:"sourceUrl",get:function(){return gn()}},{key:"sourceOrigin",get:function(){return bn(this.sourceUrl)||Bn}},{key:"isInitialized",get:function(){return"/"!==this.targetUrl}}]),t}(),Xn=function(t){try{return t()}catch(t){return}},$n=function(t){function e(e,n){var o;return void 0===n&&(n=Nn()),(o=t.call(this,e)||this)._target=void 0,o.setTarget(n),o}Tt(e,t);var n=e.prototype;return n.setTarget=function(t){if(this._target=t,!this.isConnected)throw new TypeError("Target is not set or closed.")},n.createMessage=function(t){return new xn(t,this.options.channel,this.options.sourceUrl)},n.send=function(t){var e=this;if(this.isConnected){var n=this.createMessage(t);Xn((function(){e.target.postMessage(String(n),e.options.targetOrigin)}))}},n.destroy=function(){this._target=null},fn(e,[{key:"target",get:function(){return this._target}},{key:"isConnected",get:function(){return Boolean(this.target&&!this.target.closed)}}]),e}(En),to=function(t){function e(e,n,o){var r,i=(r=t.call(this,e,jn())||this).createMessage(n),a=function(t,e){return void 0===e&&(e={}),window.open(t,e.target,e.features)}(Kn(e.targetUrl,String(i)),{target:e.channel,features:o});return r.setTarget(a),r}Tt(e,t);var n=e.prototype;return n.focus=function(){var t=this;this.isConnected&&Xn((function(){t.target.focus()}))},n.close=function(){var t=this;this.isConnected&&Xn((function(){t.target.close()}))},e}($n),eo=function(t){function e(e){var n;return(n=t.call(this,e)||this).onMessage=function(t){try{var e=Vn(t);n.processMessage(e)}catch(t){0}},window.addEventListener("message",n.onMessage),n}return Tt(e,t),e.prototype.destroy=function(){window.removeEventListener("message",this.onMessage)},e}(Qn),no=function(t){function e(e,n){var o;return(o=t.call(this,e)||this).target=void 0,o.target=n,o}Tt(e,t);var n=e.prototype;return n.createMessage=function(t){return new xn(t,this.options.channel,this.options.sourceUrl)},n.send=function(t){var e=this,n=this.createMessage(t);Xn((function(){e.target.postMessage(String(n))}))},n.destroy=function(){},fn(e,[{key:"isConnected",get:function(){return!0}}]),e}(En),oo=function(t){function e(e,n){var o;return(o=t.call(this,e)||this).target=void 0,o.onMessage=function(t){try{var e=o.createMessage(t);o.processMessage(e)}catch(t){0}},o.target=n,o.target&&"function"==typeof o.target.addEventListener&&o.target.addEventListener("message",o.onMessage),o}Tt(e,t);var n=e.prototype;return n.createMessage=function(t){var e=JSON.parse(t.data),n=e.sourceUrl&&bn(e.sourceUrl)===t.origin?e.sourceUrl:t.origin;return new xn(e.payload,e.channel,n)},n.destroy=function(){this.target.removeEventListener("message",this.onMessage)},e}(Qn),ro=function(t){function e(e){var n;return(n=t.call(this,e)||this).isSent=!1,n}Tt(e,t);var n=e.prototype;return n.constructUrl=function(t){return t||this.options.targetUrl},n.send=function(t,e){this.isSent||(vn(this.constructUrl(e)),this.isSent=!0)},n.destroy=function(){this.isSent=!0},fn(e,[{key:"isConnected",get:function(){return!1}}]),e}(En),io=function(t){function e(e,n){var o;return void 0===n&&(n={}),(o=t.call(this,e)||this).params=n,o.isSent=!1,o}Tt(e,t);var n=e.prototype;return n.createMessage=function(t){var e=this.options.sourceUrl;return this.params.noEmitSourceUrl&&(e=void 0),new xn(t,this.options.channel,e)},n.constructUrl=function(t){var e=this.createMessage(t);return Kn(this.options.targetUrl,String(e),this.params.forceQueryMode)},n.send=function(t){this.isSent||(vn(this.constructUrl(t)),this.isSent=!0)},n.destroy=function(){this.isSent=!0},fn(e,[{key:"isConnected",get:function(){return!1}}]),e}(En),ao=function(t){function e(e,n,o){var r;return void 0===o&&(o=!1),r=t.call(this,e)||this,o?setTimeout((function(){return r.send(n)}),500):r.send(n),r}Tt(e,t);var n=e.prototype;return n.focus=function(){},n.close=function(){},e}(io),so=function(t){function e(e){var n;return(n=t.call(this,e)||this).processTimeout=void 0,n.onProcess=function(){try{var t=n.createMessage();n.processMessage(t)}catch(t){0}},n.processTimeout=setTimeout(n.onProcess,50),n}Tt(e,t);var n=e.prototype;return n.hasQueryMessage=function(){return t=this.options.sourceUrl,e=Cn(t),{hasMessage:Boolean(e[In]),hasForceMode:Boolean(e[On])};var t,e},n.createMessage=function(){var t=Cn(this.options.sourceUrl)[In]||"",e=JSON.parse(t);return new xn(e.payload,e.channel,e.sourceUrl)},n.destroy=function(){clearTimeout(this.processTimeout)},e}(Qn),uo=function(t){function e(e){var n;return void 0===e&&(e=new Zn),(n=t.call(this)||this).options=e,n.queryListener=void 0,n.messageListener=void 0,n.nativeListener=void 0,n.broadcastListener=void 0,n.waitInitializationP=void 0,n.setInitialized=void 0,n.emitter=void 0,n.onMessage=function(t,e){n.emit(t,e)},n.onOptionsMessage=function(t,e){n.options.isInitialized?n.clearSource():n.updateOptions(e),n.setInitialized(!0)},n.createQueryListener(),n.createMessageListener(),n.createBroadcastListener(),n.waitInitializationP=new Promise((function(t){n.setInitialized=t,n.options.targetUrl&&t(!0)})),n}Tt(e,t);var n=e.prototype;return n.createQueryListener=function(){this.queryListener=new so(this.options),this.queryListener.on(this.onMessage),this.queryListener.on(this.onOptionsMessage)},n.createMessageListener=function(){this.messageListener=new eo(this.options),this.messageListener.on(this.onMessage)},n.createBroadcastListener=function(){Hn()&&(this.broadcastListener=new Gn(this.options),this.broadcastListener.on(this.onMessage))},n.createNativeListener=function(t){this.nativeListener=new oo(this.options,t),this.nativeListener.on(this.onMessage),this.messageListener.off(this.onMessage),this.broadcastListener&&this.broadcastListener.off(this.onMessage)},n.clearSource=function(){var t;(function(t){history.replaceState(null,document.title,t)})(Pn(this.options.sourceUrl,((t={})[In]=void 0,t[On]=void 0,t)).split("#")[0])},n.updateOptions=function(t){this.options.targetUrl=t.sourceUrl||"/"},n.hasQueryMessage=function(){return this.queryListener.hasQueryMessage()},n.connect=function(t){var e;void 0===t&&(t={});var n=this.connectNative(t);if(n)return n;var o=(null===(e=t.message)||void 0===e?void 0:e.target)||Nn();try{if(t.forceQueryMode||o===window)throw new Error;return this.emitter=new $n(this.options,o),this.emitter}catch(e){var r;return Hn()&&null!==(r=t.connection)&&void 0!==r&&r.isQueryModeDisabled?(this.emitter=new Jn(this.options),this.emitter):(this.emitter=new io(this.options,Object.assign({forceQueryMode:Boolean(t.forceQueryMode)},t.query)),this.emitter)}},n.connectNative=function(t){if(void 0===t&&(t={}),t.native&&(t.native.listener&&this.createNativeListener(t.native.listener),t.native.target))return this.emitter=new no(this.options,t.native.target),this.emitter},n.connectRedirectEmitter=function(){return this.emitter=new ro(this.options),this.emitter},n.open=function(t,e,n,o,r){try{return o?new ao(this.options,t,null==n?void 0:n()):new to(this.options,t,e)}catch(e){if(r)throw new Error("QueryMode is disabled");var i=null==n?void 0:n();return new ao(this.options,t,i)}},n.destroy=function(){this.queryListener.destroy(),this.messageListener.destroy(),this.broadcastListener&&this.broadcastListener.destroy()},n.waitInitialization=function(){return this.waitInitializationP},fn(e,[{key:"isQueryMode",get:function(){return this.emitter instanceof io||this.emitter instanceof ro}},{key:"isBroadcastMode",get:function(){return this.emitter instanceof Jn}}]),e}(pn);function co(t,e){void 0===e&&(e=null);var n=("; "+document.cookie).split("; "+t+"=").pop().split(";").shift();return void 0===n?e:n}var ho=n(32),lo=n.n(ho),mo=function(t,e){return void 0===e&&(e=document),e?lo()(t)?e.querySelector(t):t:null};function fo(t,e){var n=mo(t);n&&n.classList.remove(e)}function po(t,e){var n=mo(t);n&&n.classList.add(e)}function yo(t,e,n){var o=mo(t);o&&o.removeEventListener(e,n)}function vo(t,e,n){if(void 0===n&&(n=!1),t){var o=mo(t);o&&Object.keys(e).forEach((function(t){o.style.setProperty(t,String(e[t]),n?"important":void 0)}))}}var go={remove:function(t){var e=mo(t);e&&e.parentElement&&e.parentElement.removeChild(e)},add:function(t,e,n){var o=mo(t);o&&n?o.insertBefore(e,n):o&&o.appendChild(e)},removeClass:fo,addClass:po,toggleClass:function(t,e,n){n?po(t,e):fo(t,e)},findNode:mo,off:yo,on:function(t,e,n){var o=mo(t);return o?(o.addEventListener(e,n),function(){return yo(o,e,n)}):function(){}},attrs:function(t,e){var n=mo(t);n&&Object.keys(e).forEach((function(t){n.setAttribute(t,String(e[t]))}))},style:vo,hide:function(t,e){void 0===e&&(e=!1),vo(t,{display:"none"},e)},show:function(t,e,n){void 0===e&&(e="block"),void 0===n&&(n=!1),vo(t,{display:e},n)},getCssProp:function(t,e){var n=mo(t);return getComputedStyle(n)[e]},animate:function(t,e){var n,o=e.timingFunction,r=void 0===o?"ease-in-out":o,i=e.duration,a=void 0===i?"200ms":i,s=e.delay,u=void 0===s?"0":s,c=e.property,d=e.from,h=e.to;mo(t)&&(vo(t,((n={"transition-timing-function":r,"transition-duration":a,"transition-delay":u,"transition-property":c})[c]=d,n)),setTimeout((function(){var e;vo(t,((e={})[c]=h,e))}),0))}},bo=function(t,e){return void 0===e&&(e={}),function(){var n=[],o=arguments.length<=0?void 0:arguments[0],r=arguments.length<=1?void 0:arguments[1],i=arguments.length<=2?void 0:arguments[2];Array.isArray(r)&&(i=r,r=void 0),Array.isArray(o)&&(i=o,o=void 0),"object"==typeof o&&(r=o,o=void 0);var a=o?t+"__"+o:t;if(n.push(a),r)for(var s=0,u=Object.entries(r);s<u.length;s++){var c=u[s],d=c[0],h=c[1];"boolean"==typeof h||null==h?h&&n.push(a+"_"+d):n.push(a+"_"+d+"_"+h)}var l=n.join(" ");return e.lowerCase&&(l=l.toLowerCase()),i&&(l=[l].concat(i).join(" ")),l}},wo=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(t,e){var n=this;return this.listeners[t]=this.listeners[t]||[],this.listeners[t].push(e),function(){return n.off(t,e)}},e.once=function(t,e){var n=this,o=function o(r){n.off(t,o),e.call(n,r)};return this.listeners[t]=this.listeners[t]||[],this.listeners[t].push(o),function(){return n.off(t,o)}},e.off=function(t,e){e?this.listeners[t]=(this.listeners[t]||[]).filter((function(t){return e!==t})):delete this.listeners[t]},e.emit=function(t,e){var n=this;(this.listeners[t]||[]).forEach((function(t){t.call(n,e)}))},e.clear=function(){this.listeners={}},e.destroy=function(){this.clear()},t}(),ko=function(t){return t.Widget="WIDGET",t.WidgetUser="WIDGET_USER",t}({}),So=function(t){return t.Ready="READY",t.Failure="FAILURE",t}({}),Co=function(t){return t.Update="UPDATE",t.Process="YAPAY_PROCESS",t.Lock="LOCK",t.Unlock="UNLOCK",t.Error="ERROR",t.Extra="EXTRA",t}({}),Po=function(){function t(t){this.data=void 0,this.data=t}var e=t.prototype;return e.set=function(t,e){null!=e&&(this.data[t]=e)},e.get=function(t){return this.data[t]},t}(),Eo=new Po({uid:"",hasNewPRA:!1,disabledPRA:!1});const Bo=n.p+"_/yapay-simple-black-red.en.c293ecd1.svg",Mo=n.p+"_/yapay-simple-black-red.32caa6f8.svg",Io=n.p+"_/yapay-simple-white-red.en.b225d9a7.svg",Oo=n.p+"_/yapay-simple-white-red.1b5d5a1b.svg";var xo={black:"#000",white:"#FFF"},_o=function(t,e){var n=['<svg xmlns="http://www.w3.org/2000/svg" width="63" height="22" fill="none">','<path fill="#FC3F1D" d="M0 11a11 11 0 1 1 22 0 11 11 0 0 1-22 0z"/>',"ru"===e?'<path fill="#FFF" d="M12.55 17.61h2.3V4.41H11.5c-3.36 0-5.13 1.73-5.13 4.28 0 2.03.97 3.23 2.7 4.46l-3 4.46h2.49l3.34-5-1.16-.77c-1.4-.95-2.09-1.69-2.09-3.29 0-1.4 1-2.35 2.87-2.35h1.03V17.6z"/>':'<path fill="#FFF" d="M11.3 12.14c.64 1.4.86 1.9.86 3.59v2.24h-2.3v-3.78L5.53 4.77h2.4l3.37 7.37zm2.83-7.37-2.8 6.38h2.33l2.81-6.38h-2.34z"/>','<path fill="'+xo[t]+'" d="M30.32 3.93v13.5H27.5V3.93h2.82zm3.6 6.53c.44-.15.79-.4 1-.75.23-.35.36-.81.36-1.38 0-.79-.23-1.36-.69-1.73-.44-.38-1.16-.58-2.12-.58h-3.6V3.93h3.47c1.96 0 3.42.36 4.38 1.1.96.73 1.44 1.83 1.44 3.3 0 1.09-.24 1.95-.71 2.6a3.98 3.98 0 0 1-2 1.43c-.84.3-1.9.45-3.12.45h-3.45v-2.12h3.46c.61.01 1.14-.07 1.59-.23zm15.65 4.58c0 .4.01.8.03 1.19.01.39.05.8.1 1.2h-2.72a8.68 8.68 0 0 1-.1-.44 3.78 3.78 0 0 1-.12-.54h-.1a6.91 6.91 0 0 1-.78.53 3.53 3.53 0 0 1-1.08.42c-.43.11-.96.17-1.57.17a4 4 0 0 1-2.6-.8 2.73 2.73 0 0 1-.98-2.25c0-.76.22-1.38.66-1.85a3.85 3.85 0 0 1 2.01-1.05c.9-.21 2.1-.33 3.55-.33h.89v-.4c0-.33-.08-.61-.26-.83a1.36 1.36 0 0 0-.78-.46 5.33 5.33 0 0 0-1.26-.13 10 10 0 0 0-1.55.13 8.86 8.86 0 0 0-1.42.33 7.2 7.2 0 0 0-1.03.42V8.32a6.98 6.98 0 0 1 1.8-.57c.76-.17 1.63-.23 2.64-.23 1.05 0 1.93.1 2.61.32.68.2 1.2.57 1.54 1.07.35.5.52 1.17.52 2v4.13zm-2.8-2.1h-.83c-.83 0-1.5.03-2 .13s-.87.25-1.09.46a1.2 1.2 0 0 0-.33.9c0 .28.07.53.2.72.12.2.33.35.6.46a3.58 3.58 0 0 0 2.48-.1 2.72 2.72 0 0 0 .99-.75v-1.83h-.02zm6.06 7.24v-2.03c.18.12.37.21.6.27.23.07.5.1.81.1.34 0 .62-.05.84-.14.22-.1.42-.25.57-.45.15-.2.3-.43.43-.71l-.06.84-4.64-10.4h2.92l3.5 8.44-.94.1 3.32-8.54h2.67l-3.93 9.33a9.7 9.7 0 0 1-.8 1.54 5.12 5.12 0 0 1-.94 1.07 3.12 3.12 0 0 1-1.18.63c-.43.13-.96.2-1.55.2a4.52 4.52 0 0 1-1.62-.25z"/>',"</svg>"].join("");return"data:image/svg+xml;base64,"+btoa(n)},To=function(t){return t.replace(/[\r\n\t]+/gm,"").replace(/\s{2,}/g," ").replace(/ ?([{:;,!}]) ?/g,"$1").trim()},Ao=function(t,e,n){var o=t.theme,r=t.width,i=t.style;return Object.assign({},function(t,e){var n,o,r,i;return{overflow:"hidden",flex:"1 0 auto","box-sizing":"border-box",width:t===_.MaxImportant?"100%":"","min-width":t===_.MaxImportant?"100%":"","max-width":t===_.MaxImportant?"100%":"",height:null!==(n=null==e?void 0:e.height)&&void 0!==n?n:"","min-height":null!==(o=null==e?void 0:e.height)&&void 0!==o?o:"","max-height":null!==(r=null==e?void 0:e.height)&&void 0!==r?r:"",cursor:"pointer","user-select":"none","border-width":"1px","border-style":"solid","border-radius":null!==(i=null==e?void 0:e.borderRadius)&&void 0!==i?i:"",background:"transparent center/contain no-repeat content-box border-box",transition:"opacity 150ms linear,filter 150ms linear,background-color 150ms linear",transform:"translate3d(0,0,0)"}}(r,i),function(t,e,n){var o;if(!n)return{};var r=_o("black",e),i=_o("white",e);return((o={})[x.White]={"background-color":"#ffffff","background-image":"url("+r+")"},o[x.WhiteOutlined]={"background-color":"#ffffff","border-color":"#000000","background-image":"url("+r+")"},o[x.Yellow]={"background-color":"#ffd633","background-image":"url("+r+")"},o[x.Black]={"background-color":"#000000","background-image":"url("+i+")"},o)[n]}(0,e,o))},Ro=function(t,e){var n;return void 0===e&&(e=0),setTimeout(t,null!==(n=e)&&void 0!==n?n:1e3)},Uo=function(t,e,n){var o;void 0===n&&(n=0);return function r(){if(t())return e();o=Ro(r,n)}(),function(){o&&clearTimeout(o)}},Lo=function t(e){return void 0===e&&(e=""),e+"-"+ ++t.counter};Lo.counter=0;var Fo=.5;function Wo(t,e){return Dt(n=t)&&1===n.nodeType?window.IntersectionObserver?function(t,e){var n=new IntersectionObserver((function(o){var r=o[0];r&&r.isIntersecting&&r.intersectionRatio>=Fo&&(e("io"),n.unobserve(t))}),{threshold:[0,.25,.5,.75,1]});return n.observe(t),function(){return n.unobserve(t)}}(t,e):t.getBoundingClientRect?function(t,e){return Uo((function(){var e=t.getBoundingClientRect(),n=e.width,o=e.height,r=window.innerHeight-e.bottom,i=window.innerWidth-e.right;return Math.max(0,o+Math.min(0,e.top,r))/o*(Math.max(0,n+Math.min(0,e.left,i))/n)>=Fo}),(function(){return e("raf")}))}(t,e):function(t,e){var n;return n=Ro((function o(){n=null,document.body&&document.body.contains?document.body===t||document.body.contains(t)?e("mount"):n=Ro(o):e("timer")}),0),function(){n&&clearTimeout(n)}}(t,e):function(){};var n}function Do(t){return"none"!==go.getCssProp(t,"pointerEvents")}function jo(t){var e=t.parentElement;return e?Do(e)?e:jo(e):null}function No(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Ko(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ko(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0;return function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ko(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var zo=function(t){function e(e){var n;return(n=t.call(this)||this)._watchInterval=void 0,n._registry=void 0,n.watcherId=void 0,n._watchInterval=e,n._registry=new Map,n}Tt(e,t);var n=e.prototype;return n.register=function(t){this._registry.set(t,!0),this.emit("change",{mounted:[t]}),this.watcher()},n.unregister=function(t){this._registry.delete(t)},n.watcher=function(){var t=this;this._registry.size>0&&!this.watcherId&&(this.watcherId=setInterval((function(){return t.action()}),this._watchInterval))},n.action=function(){for(var t,e=[],n=[],o=No(this._registry);!(t=o()).done;){var r=t.value,i=r[0],a=r[1];i.isConnected!==a&&(this._registry.set(i,!a),a?n.push(i):e.push(i))}(e.length||n.length)&&this.emit("change",{mounted:e,unmounted:n})},fn(e,[{key:"activeElements",get:function(){return Array.from(this._registry.entries()).filter((function(t){t[0];return t[1]})).map((function(t){var e=t[0];t[1];return e}))}}]),e}(wo),Vo=new(function(t){function e(){var e;return(e=t.call(this,100)||this)._dataRegistry=void 0,e._dataRegistry=new Map,e}Tt(e,t);var n=e.prototype;return n.registerButton=function(e,n){t.prototype.register.call(this,e),this._dataRegistry.set(e,n)},n.unregisterButton=function(e){t.prototype.unregister.call(this,e),this._dataRegistry.delete(e)},n.getData=function(t){return this._dataRegistry.get(t)},fn(e,[{key:"values",get:function(){return Array.from(this._dataRegistry.values())}}]),e}(zo));function qo(t){go.show(t,"inline-block")}var Yo=function(){function t(t,e){this.buttonWatcher=void 0,this.mountingLimit=void 0,this.mountedTimes=void 0,this.logSent=void 0,this.mountedButton=void 0,this.mountedButtonHandler=void 0,this.buttonWatcher=t,this.mountingLimit=e,this.mountedTimes=0,this.logSent=!1}var e=t.prototype;return e.start=function(){var t=this;this.buttonWatcher.on("change",(function(){t.action()}))},e.registerWebButton=function(t,e){this.isApiAvailable&&this.buttonWatcher.registerButton(t,e)},e.unregisterWebButton=function(t){this.isApiAvailable&&this.buttonWatcher.unregisterButton(t)},e.dispatchClickEvent=function(){if(this.hasStickyButton&&this.mountedButton){var t,e=new Event("click",{bubbles:!0});if(Do(this.mountedButton))this.mountedButton.dispatchEvent(e);else null===(t=jo(this.mountedButton))||void 0===t||t.dispatchEvent(e)}},e.removeStickyButton=function(){var t=this;return Zt(ot.SdkRemountStickyButton),this.mountedButtonHandler?this.mountedButtonHandler.unmount().catch((function(t){E("stickyButtonRemoveError",t)})).then((function(){t.mountedButton&&qo(t.mountedButton),t.mountedButtonHandler=void 0,t.mountedButton=void 0})):Promise.resolve()},e.addStickyButton=function(t){var e=this;this.mountedTimes>0&&Xt(ot.SdkRemountStickyButton);var n=this.buttonWatcher.getData(t);return n?!this.hasStickyButton&&this.canStickyButtonMount&&t.id?(en(n.sessionId),this.api?this.api.mount(n,(function(){return e.dispatchClickEvent()})).then((function(o){!function(t){go.hide(t,!0)}(t),e.mountedButtonHandler=o,e.mountedButton=t,e.mountedTimes+=1,nn(n.sessionId)})).catch((function(e){qo(t),on(n.sessionId),E("stickyButtonMountError",e)})):(B("Replace sticky button with button because of nonexisting api"),qo(t),Promise.resolve())):(qo(t),Promise.resolve()):(B("Replace sticky button with button because of nonexisting button data"),qo(t),Promise.resolve())},e.action=function(){var t=this;if(this.isApiAvailable){var e=this.buttonWatcher.activeElements;if(1===e.length){var n=e[0];n!==this.mountedButton&&this.removeStickyButton().then((function(){return t.addStickyButton(n)}))}else this.removeStickyButton().then((function(){t.buttonWatcher.activeElements.forEach(qo)}))}},fn(t,[{key:"api",get:function(){var t,e;return null===(t=window.yandex)||void 0===t||null===(e=t.pay)||void 0===e?void 0:e.stickyButton}},{key:"isApiAvailable",get:function(){return Boolean(this.api)}},{key:"hasStickyButton",get:function(){return Boolean(this.mountedButton)&&Boolean(this.mountedButtonHandler)}},{key:"canStickyButtonMount",get:function(){return this.mountedTimes<this.mountingLimit||(this.logSent||(B("Trying to attach sticky button more than "+this.mountingLimit+" times"),this.logSent=!0),!1)}}]),t}(),Ho=new Yo(Vo,2),Jo=function(t,e){var n=e.payload,o=e.enctype,r=e.method,i=e.url,a=document.createElement("form"),s=function(t){var e=document.createElement("input");return go.attrs(e,{name:"payload",type:"hidden",value:JSON.stringify(t)}),e}(n);return go.attrs(a,{target:t,enctype:o,method:r,action:i}),go.add(a,s),a},Qo=function(t,e){var n=void 0===e?{}:e,o=n.src,r=n.hideThrowOpacity,i=document.createElement("iframe");return go.attrs(i,{name:t,title:t,frameborder:"0",tabindex:"-1","aria-hidden":"true"}),o&&go.attrs(i,{src:o}),r?go.style(i,{opacity:"0"}):go.hide(i),i},Go=function(t,e,n){void 0===n&&(n={});var o="ya-frame-"+Ee(8),r=Jo(o,e),i=Qo(o,n);return go.add(document.body,r),go.add(t,i),r.submit(),setTimeout((function(){go.remove(r)}),0),i};function Zo(t){return t.replace(/^https:\/\/pay\.yandex\./,"https://sandbox.pay.yandex.")}var Xo=function(t,e){void 0===e&&(e={});var n={};if(n.abuid=it,e.amAuth&&(n.ama="1"),e.passportOrigin&&(n.passportOrigin=e.passportOrigin),e.sessionType&&(n.pt=Ht[e.sessionType],n.st=e.sessionType),e.duid&&(n.duid=e.duid),e.extra&&(n.extra=JSON.stringify(e.extra)),t){var o=Ne(t,e.checkoutCounter);n.ymuid=rt,n.msid=o[0]||"",n.mcid=o[1]||""}return e.sdkInIframe&&(n.sifrm="1"),n},$o=function(t,e,n){void 0===n&&(n={});var o=t,r=Xo(e,n);return n.env===lt.Sandbox&&(o=Zo(t)),Pn(o,r)};function tr(t){return bn(t)}var er=function(t){return t.Ready="ready",t.Abort="abort",t.Error="error",t.Process="process",t.Ping="ping",t.Change="change",t.Reset="reset",t.Setup="setup",t.Success="success",t.NativeInitialize="nativeInitialize",t}({}),nr=function(t){return t.Close="CLOSE",t.Timeout="TIMEOUT",t.ManualClose="MANUAL_CLOSE",t}({}),or=function(t){return t.SdkReady="sdk-ready",t.SdkExp="sdk-exp",t.SdkPing="sdk-ping",t.SdkSplitAvailable="sdk-split-available",t.PaymentUpdate="payment-update",t.PaymentProcess="payment-process",t.PaymentLock="payment-lock",t.PaymentError="payment-error",t.PaymentExtra="payment-extra",t.PaymentUnlock="payment-unlock",t.IsReadyToPay="sdk-is-ready-to-pay",t.CheckPayment="sdk-check-payment",t.SdkCheckPaymentResponse="sdk-check-payment-response",t.SdkBroadcastSendMessage="sdk-broadcast-send-message",t.SdkBroadcastOnMessage="sdk-broadcast-on-message",t}({}),rr=function(t){return t.Setup="setup",t.Payment="payment",t.Update="update",t.Complete="complete",t.Ping="ping",t.NativeInitialized="nativeInitialized",t.GoBack="goback",t}({}),ir=function(t){return t.Success="success",t.Error="error",t.Close="close",t.AuthRedirect="auth-redirect",t}({}),ar=function(t){function e(e,n,o){var r;return(r=t.call(this)||this).frame=void 0,r.frameListener=void 0,r.frameEmitter=void 0,r.payment=void 0,r.buttonOptions=void 0,r.buttonStyles=void 0,r.onMessage=function(t){t&&t.type&&r.emit(t.type,t)},r.onPaymentUpdate=function(){r.frameEmitter&&r.frameEmitter.send({type:Co.Update,paymentSheet:r.payment.sheet})},r.onPaymentProcess=function(){r.frameEmitter&&r.frameEmitter.send({type:Co.Process})},r.onPaymentLock=function(){r.emit(or.PaymentLock,null),r.frameEmitter&&r.frameEmitter.send({type:Co.Lock})},r.onPaymentUnlock=function(){r.emit(or.PaymentUnlock,null),r.frameEmitter&&r.frameEmitter.send({type:Co.Unlock})},r.onPaymentError=function(){r.emit(or.PaymentError,null),r.frameEmitter&&r.frameEmitter.send({type:Co.Error})},r.onPaymentExtraChange=function(t){var e=t.innerType;r.frameEmitter&&r.frameEmitter.send({type:Co.Extra,innerType:e})},r.payment=e,r.buttonOptions=n,r.buttonStyles=o,r.subscribePayment(),r}Tt(e,t),e.create=function(t,n,o){return new e(t,n,o)};var n=e.prototype;return n.destroy=function(){t.prototype.destroy.call(this),this.unmount()},n.mount=function(t){try{var e;if(this.frame)return;var n=this.buttonOptions,o=this.buttonStyles,r=this.payment,i=r.sheet,a=r.env,s=$o(Y,this.payment.sessionId,{env:a}),u=tr(s);this.frame=Go(t,{payload:{paymentSheet:i,buttonOptions:n,buttonStyles:o},enctype:"application/x-www-form-urlencoded",method:"post",url:s},{hideThrowOpacity:!0}),go.style(this.frame,{position:"absolute",top:"0",right:"0",bottom:"0",left:"0",border:"0",display:"block",width:"100%",height:"100%","pointer-events":"none","z-index":0});var c=new Zn({targetUrl:u});this.frameListener=new eo(c),this.frameListener.on(this.onMessage),this.frameEmitter=new $n(c,null!==(e=this.frame.contentWindow)&&void 0!==e?e:void 0)}catch(t){E("sdk-payment-method mount",t)}},n.unmount=function(){this.frame&&(go.remove(this.frame),this.frame=void 0),this.frameListener&&(this.frameListener.destroy(),this.frameListener=void 0),this.frameEmitter&&(this.frameEmitter.destroy(),this.frameEmitter=void 0),this.unsubscribePayment()},n.show=function(){this.frame&&go.animate(this.frame,{property:"opacity",from:"0",to:"1"})},n.subscribePayment=function(){this.payment.on(or.PaymentUpdate,this.onPaymentUpdate),this.payment.on(or.PaymentProcess,this.onPaymentProcess),this.payment.on(or.PaymentLock,this.onPaymentLock),this.payment.on(or.PaymentUnlock,this.onPaymentUnlock),this.payment.on(or.PaymentError,this.onPaymentError),this.payment.on(or.PaymentExtra,this.onPaymentExtraChange)},n.unsubscribePayment=function(){this.payment.off(or.PaymentUpdate,this.onPaymentUpdate),this.payment.off(or.PaymentProcess,this.onPaymentProcess),this.payment.off(or.PaymentLock,this.onPaymentLock),this.payment.off(or.PaymentUnlock,this.onPaymentUnlock),this.payment.off(or.PaymentError,this.onPaymentError),this.payment.off(or.PaymentExtra,this.onPaymentExtraChange)},e}(wo),sr=bo(Z,{lowerCase:!0}),ur=bo(X,{lowerCase:!0}),cr={type:O.Pay,theme:x.Black,width:_.Auto},dr=function(t){function e(e,n,o){var r;void 0===o&&(o={}),(r=t.call(this)||this).hasShadowRoot=!1,r.payment=void 0,r.parent=void 0,r.options=void 0,r.oldStyleElement=void 0,r.styleElement=void 0,r.buttonElement=void 0,r.backdropElement=void 0,r.paymentMethod=void 0,r.renderWatcherUnsubscribe=function(){},r.locked=!1,r.settings=void 0,r.onClick=function(t){r.locked||r.emit(T.Click,t)},r.onSdkPaymentMethodReady=function(t){Eo.set("uid",t.uid),Eo.set("hasNewPRA",t.hasNewPRA),r.showPaymentMethod(),pe.of(dn(r)).mark($t.PersonalButtonMounted)},r.onSdkPaymentMethodFailure=function(){var t=r.options,e=t.type,n=t.theme;$e(r.payment.sessionId,{theme:n,type:e}),r.unmountPaymentMethod()},r.onPaymentLock=function(){r.locked=!0},r.onPaymentUnlock=function(){r.locked=!1};try{var i=n.sheet;r.payment=n,r.settings=o,r.options=L(e,cr),i&&b("yellow_btn",Pt(i))&&(r.options.theme=x.Yellow)}catch(t){throw P("SDK: Error create button",t),t}return r}Tt(e,t),e.create=function(t,n,o){return new e(t,n,o)};var n=e.prototype;return n.destroy=function(){t.prototype.destroy.call(this),this.unmount()},n.mount=function(t){var e=this;if(t){pe.of(this).mark($t.SimpleButtonMountingStarted),pe.ofSession(this.payment.sessionId).mark($t.FirstViewMountingStarted),this.parent&&this.unmount();try{this.parent=t,this.hasShadowRoot=void 0!==window.ShadowRoot&&t instanceof ShadowRoot,this.mountStyles(),this.mountButton(),pe.of(this).mark($t.SimpleButtonMounted),pe.of(this).mark($t.PersonalButtonMountingStarted),this.mountPaymentMethod(),this.registerStickyButton(),this.renderWatcherUnsubscribe=Wo(this.buttonElement,(function(t){return Ze(e.payment.sessionId,{watcher:t})}))}catch(t){E("SDK: Button mount",t)}}else B("SDK: Falsy parent on button mount",{fn:"Button.mount",message:"parent: "+t})},n.unmount=function(){this.parent=void 0,this.renderWatcherUnsubscribe(),this.unmountButton(),this.unmountStyles(),this.unmountPaymentMethod(),this.unregisterStickyButton()},n.setBackdrop=function(t){if(this.buttonElement&&this.backdropElement)this.backdropElement.style.height=t;else{var e=document.createElement("div");go.style(e,function(t){return{position:"relative",background:"transparent",overflow:"hidden",cursor:"pointer",width:"100%",height:t,flex:"0 0 "+t}}(t),!0),go.on(e,"click",this.onClick),e.setAttribute("class",ur()),this.parent?go.add(this.parent,e,this.buttonElement):E("SDK: Backdrop has no parent element"),this.backdropElement=e}},n.registerStickyButton=function(){if(this.buttonElement){var t=this.payment,e=t.env,n=t.sessionId,o=t.sheet,r=this.options,i=r.type,a=r.theme,s=r.width;if(o&&!this.settings.disableStickyButton){var u=function(t){return kt(t)?t.merchant:{id:t.merchantId,url:"",name:""}}(o),c=function(t){var e;if(wt(t)||St(t))return{allowedAuthMethods:[],allowedCardNetworks:[]};var n=null===(e=t.paymentMethods)||void 0===e?void 0:e.find((function(t){return t.type===yt.Card}));if(!n)return{allowedAuthMethods:[],allowedCardNetworks:[]};var o=n.allowedAuthMethods,r=void 0===o?[]:o,i=n.allowedCardNetworks;return{allowedAuthMethods:r,allowedCardNetworks:void 0===i?[]:i}}(o);Ho.registerWebButton(this.buttonElement,{env:e,sessionId:n,merchant:u,buttonOptions:{type:i,theme:a,width:s},paymentMethodOptions:c})}}else B("SDK: Skip sticky button register")},n.unregisterStickyButton=function(){!this.settings.disableStickyButton&&this.buttonElement&&Ho.unregisterWebButton(this.buttonElement)},n.mountButton=function(){var t=this.options,e=t.type,n=t.theme,o=t.width,r=n===x.Black?"dark":"light",i=sr({type:e,theme:n,width:o,"theme-type":r}),a=document.createElement("button"),s=void 0!==this.payment.sheet.language?this.payment.sheet.language:"ru";go.style(a,Ao(this.options,s),!0),a.setAttribute("id",Lo("yandexpay-button")),a.setAttribute("type","button"),a.setAttribute("aria-label","Yandex Pay"),a.setAttribute("class",i),this.settings.disableStickyButton||!Ho.isApiAvailable||Ho.hasStickyButton||go.hide(a,!0),this.parent?go.add(this.parent,a):P("SDK: Cannot mount button: has no parent element"),go.on(a,"click",this.onClick),function(t){var e=t.offsetWidth,n=t.offsetHeight;if(e>=75&&n>=32){var o=Math.min(36,10+.5*Math.max(0,e-75)),r=Math.min(17,4+.5*Math.max(0,n-32));go.style(t,{padding:r+"px "+o+"px"})}}(a),this.buttonElement=a},n.unmountButton=function(){this.buttonElement&&go.off(this.buttonElement,"click",this.onClick),this.backdropElement&&go.off(this.backdropElement,"click",this.onClick),this.buttonElement&&go.remove(this.buttonElement)},n.mountStyles=function(){var t,n,o,r,i=document.createElement("style");i.setAttribute("type","text/css"),i.textContent=(t={assetsUrl:N,baseClass:Z},n=this.payment.sheet.language,o=t.assetsUrl,r=t.baseClass,void 0===n&&(n="ru"),To("\n  ."+r+" {\n    position: relative;\n    display: inline-block;\n    box-sizing: border-box;\n    height: 54px;\n    min-width: 282px;\n    min-height: 40px;\n    padding: 14px 36px;\n    overflow: hidden;\n    background-origin: content-box;\n    background-position: center center;\n    background-repeat: no-repeat;\n    background-size: contain;\n    border-width: 1px;\n    border-style: solid;\n    border-color: transparent;\n    border-radius: 8px;\n    user-select: none;\n    cursor: pointer;\n    transition: opacity 150ms linear, filter 150ms linear, background-color 150ms linear;\n\n    transform: translate3d(0, 0, 0);\n  }\n\n  ."+r+":focus {\n    outline: none;\n    border-color: transparent;\n    box-shadow: 0 0 0 3px rgb(255 56 21 / 50%);\n  }\n\n  ."+r+"_theme_white,\n  ."+r+"_theme_white-outlined {\n    background-color: #ffffff;\n  }\n\n  ."+r+"_theme_white-outlined {\n    border-color: #000000;\n  }\n\n  ."+r+"_theme-type_light:hover,\n  ."+r+"_theme-type_light:active {\n    filter: brightness(0.95);\n  }\n\n  ."+r+"_theme_black {\n    background-color: #000000;\n  }\n\n  ."+r+"_theme-type_dark:hover,\n  ."+r+"_theme-type_dark:active {\n    opacity: 0.8;\n  }\n\n  ."+r+"_theme_yellow {\n    background-color: #ffd633;\n  }\n\n  ."+r+"_theme_yellow:hover,\n  ."+r+"_theme_yellow:active {\n    filter: brightness(0.95);\n  }\n\n  ."+r+"_theme-type_light {\n    background-image: url('"+(o+("ru"===n?Mo:Bo))+"');\n  }\n\n  ."+r+"_theme-type_dark {\n    background-image: url('"+(o+("ru"===n?Oo:Io))+"');\n  }\n\n  ."+r+" iframe,\n  ."+r+"::before {\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    border: 0;\n  }\n\n  ."+r+" iframe {\n    position: 'absolute';\n    top: '0';\n    right: '0';\n    bottom: '0';\n    left: '0';\n    border: '0';\n    display: 'block';\n    width: 100%;\n    height: 100%;\n    pointer-events: none;\n    z-index: 0;\n  }\n\n  ."+r+"_width_max {\n    width: 100%;\n    min-width: 100px;\n  }\n\n  ."+r+"::before {\n    content: '';\n    z-index: 1;\n  }\n"));var a=document.createElement("style");a.setAttribute("type","text/css"),a.textContent=function(t){var e=t.baseClass,n=t.backdropClass;return To("\n  ."+e+" {\n    display: 'inline-block';\n    position: 'relative';\n    height: 54px;\n    min-width: 282px;\n    min-height: 40px;\n    padding: 14px 36px;\n    border-radius: 8px;\n  }\n\n  ."+e+":focus {\n    outline: none;\n    border-color: transparent;\n    box-shadow: 0 0 0 3px rgb(255 56 21 / 50%);\n  }\n\n  ."+n+":hover+."+e+"_theme-type_light,\n  ."+e+"_theme-type_light:hover,\n  ."+e+"_theme-type_light:active {\n    filter: brightness(0.95);\n  }\n\n  ."+n+":hover+."+e+"_theme-type_dark,\n  ."+e+"_theme-type_dark:hover,\n  ."+e+"_theme-type_dark:active {\n    filter: brightness(0.8);\n    opacity: 1;\n  }\n\n  ."+e+" iframe,\n  ."+e+"::before {\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    border: 0;\n  }\n\n  ."+e+"_width_max {\n    width: 100%;\n    min-width: 100px;\n  }\n\n  ."+e+"::before {\n    content: '';\n    z-index: 1;\n  }\n")}({baseClass:Z,backdropClass:X}),this.hasShadowRoot?(this.oldStyleElement=i,this.styleElement=a,this.parent?(go.add(this.parent,i),go.add(this.parent,a)):B("SDK: Button cannot mount styles: has no parent element")):e.isMainStylesMounted||(document.head.appendChild(i),document.head.appendChild(a),e.isMainStylesMounted=!0)},n.unmountStyles=function(){this.oldStyleElement&&go.remove(this.oldStyleElement),this.styleElement&&go.remove(this.styleElement)},n.mountPaymentMethod=function(){if(this.buttonElement&&this.buttonElement.isConnected){var t,e,n=(t=this.buttonElement,e=getComputedStyle(t),{border:parseInt(e.borderRadius||e.borderTopRightRadius,10),height:parseInt(e.height,10)});this.paymentMethod=ar.create(this.payment,this.options,n),this.paymentMethod.mount(this.buttonElement),this.paymentMethod.on(So.Ready,this.onSdkPaymentMethodReady),this.paymentMethod.on(So.Failure,this.onSdkPaymentMethodFailure),this.paymentMethod.on(or.PaymentLock,this.onPaymentLock),this.paymentMethod.on(or.PaymentUnlock,this.onPaymentUnlock)}else B("SDK: Skip payment-method mount on unconnected button")},n.unmountPaymentMethod=function(){this.paymentMethod&&this.paymentMethod.destroy()},n.showPaymentMethod=function(){this.paymentMethod&&this.paymentMethod.show()},e}(wo);function hr(t){try{if(Wn&&Ln&&!Ot()){var e=w("qr_redirect",[]).includes(Pt(t)),n=b("qr_am_auth");return{redirect:e,auth:e&&n}}}catch(t){}return{redirect:!1,auth:!1}}dr.isMainStylesMounted=!1;var lr={},mr=function(t){return lr[t.sessionId]};var fr=function(t){return t.Click="click",t}(fr||{}),pr=function(t){function e(){var e;return(e=t.call(this)||this).element=void 0,e.onClick=function(){e.emit(fr.Click,void 0)},e.element=document.createElement("div"),e.mount(),e}Tt(e,t),e.getInstance=function(){return this.instance?this.instance:new e};var n=e.prototype;return n.mount=function(){go.style(this.element,{"z-index":2147483647,display:"none",position:"fixed",top:0,right:0,bottom:0,left:0,"background-color":"rgba(32, 33, 36, .6)"},!0),go.add(document.body,this.element),go.on(this.element,"click",this.onClick)},n.show=function(){go.style(this.element,{display:"block"})},n.hide=function(){go.style(this.element,{display:"none"})},n.destroy=function(){t.prototype.destroy.call(this),go.off(this.element,"click",this.onClick),go.remove(this.element)},e}(wo);pr.Events=fr,pr.instance=void 0;var yr=function(t){function e(){var e;return(e=t.call(this)||this).mounted=!1,e.frame=void 0,e.listener=void 0,e.emitter=void 0,e.paymentReady=new Map,e.paymentStart=new Map,e.sendMessage=function(t){Uo((function(){return e.mounted}),(function(){e.emitter?e.emitter.send(t):P("SDK: init frame 2 cannot send message because of emitter")}),100)},e.onMessage=function(t){t&&t.type&&(t.type===or.SdkReady&&Eo.set("disabledPRA",t.disabledPRA),t.type!==or.SdkExp&&t.type!==or.SdkReady||e.emit(t.type,t),t.type===or.SdkCheckPaymentResponse&&e.emit(t.type,t),t.type===or.SdkBroadcastOnMessage&&e.emit(t.type,t))},e.subscribeOnFrame(),e.mountFrame(),e}Tt(e,t),e.getInstance=function(){return e.instance||(pe.primary.mark($t.InitFrameCreationStarted),e.instance=new e),e.instance};var n=e.prototype;return n.subscribeOnFrame=function(){var t=this;this.once(or.SdkExp,(function(e){t.mounted=!0,v.fn(e),pe.primary.mark($t.InitFrameCreated)}))},n.mountFrame=function(){var t=this;if(this.frame)P("SDK: Skip mount init frame 2");else try{var e=$o(q,null),n=tr(e),o=new Zn({targetUrl:n}),r="ya-frame-"+Ee(8);Uo((function(){return Boolean(document.body)}),(function(){var n;t.frame=Qo(r,{src:e}),go.add(document.body,t.frame),t.emitter=new $n(o,null!==(n=t.frame.contentWindow)&&void 0!==n?n:void 0)}),10),this.listener=new eo(o),this.listener.on(this.onMessage);var i=setTimeout((function(){B("SDK: Init frame timed out"),t.emit(or.SdkReady,{type:or.SdkReady,readyToPay:!1})}),15e3);this.once(or.SdkExp,(function(){clearTimeout(i)}))}catch(t){E("init speedupFrame",t),this.emit(or.SdkReady,{type:or.SdkReady,readyToPay:!1})}},e}(wo);yr.instance=void 0;var vr=function(t){return t.Ready="widget-ready",t.Failure="widget-failure",t.WidgetExtrasChange="widget-extras-change",t.WidgetSizeChange="widget-size-change",t}({}),gr=function(t){return t.Update="update",t.Lock="lock",t.Unlock="unlock",t}({}),br=function(t,e){if(void 0===e&&(e=200),t){var n=go.on(t,"transitionend",(function(e){t===e.target&&(n(),go.style(t,{transition:""}))}));setTimeout((function(){go.style(t,{transition:""}),n()}),e)}},wr=function(t){function e(e,n){var o;return(o=t.call(this)||this).frame=void 0,o.frameListener=void 0,o.frameEmitter=void 0,o.payment=void 0,o.widgetOptions=void 0,o.onMessage=function(t){t&&t.type&&o.emit(t.type,t)},o.onPaymentUpdate=function(){o.frameEmitter&&o.frameEmitter.send({type:gr.Update,paymentSheet:o.payment.sheet})},o.onPaymentProcess=function(){o.frameEmitter&&o.frameEmitter.send({type:gr.Lock})},o.onPaymentLock=function(){o.frameEmitter&&o.frameEmitter.send({type:gr.Lock})},o.onPaymentUnlock=function(){o.frameEmitter&&o.frameEmitter.send({type:gr.Lock})},o.payment=e,o.widgetOptions=n,o.subscribePayment(),o}Tt(e,t),e.create=function(t,n){return new e(t,n)};var n=e.prototype;return n.destroy=function(){t.prototype.destroy.call(this),this.unmount()},n.mount=function(t){try{var e;if(this.frame)return;var n=this.widgetOptions,o=this.payment,r=o.sheet,i=o.env,a=n.widgetType===A.BnplPreview?J:H,s=$o(a,this.payment.sessionId,{env:i}),u=tr(s);this.frame=Go(t,{payload:{paymentSheet:r,widgetOptions:n},enctype:"application/x-www-form-urlencoded",method:"post",url:s},{hideThrowOpacity:!0}),go.style(this.frame,{position:"absolute",top:"0",right:"0",bottom:"0",left:"0",border:"0",width:"100%",height:"100%","z-index":"1"});var c=new Zn({targetUrl:u});this.frameListener=new eo(c),this.frameListener.on(this.onMessage),this.frameEmitter=new $n(c,null!==(e=this.frame.contentWindow)&&void 0!==e?e:void 0)}catch(t){E("sdk-widget mount",t)}},n.unmount=function(){this.frame&&(go.remove(this.frame),this.frame=void 0),this.frameListener&&(this.frameListener.destroy(),this.frameListener=void 0),this.frameEmitter&&(this.frameEmitter.destroy(),this.frameEmitter=void 0),this.unsubscribePayment()},n.show=function(){this.frame&&go.animate(this.frame,{property:"opacity",from:"0",to:"1"})},n.subscribePayment=function(){this.payment.on(or.PaymentUpdate,this.onPaymentUpdate),this.payment.on(or.PaymentProcess,this.onPaymentProcess),this.payment.on(or.PaymentLock,this.onPaymentLock),this.payment.on(or.PaymentUnlock,this.onPaymentUnlock)},n.unsubscribePayment=function(){this.payment.off(or.PaymentUpdate,this.onPaymentUpdate),this.payment.off(or.PaymentProcess,this.onPaymentProcess),this.payment.off(or.PaymentLock,this.onPaymentLock),this.payment.off(or.PaymentUnlock,this.onPaymentUnlock)},e}(wo),kr=function(t){return t.isPayWithSplit="PWS",t.splitOnly="SO",t.splitActivePlan="SAP",t}({}),Sr=bo("ya-pay-widget",{lowerCase:!0}),Cr={widgetType:A.Compact,buttonType:O.Checkout,bnplSelected:!1,borderRadius:16,buttonTheme:x.Black},Pr={type:O.Pay,theme:x.Black,width:_.MaxImportant,style:{borderRadius:"16px",height:"100%"},innerType:ko.Widget},Er=function(t){function e(e,n){var o;(o=t.call(this)||this).hasShadowRoot=!1,o.payment=void 0,o.parent=void 0,o.options=void 0,o.buttonOptions=void 0,o.styleElement=void 0,o.widgetContainerElement=void 0,o.buttonContainer=void 0,o.widget=void 0,o.button=void 0,o.hasButton=void 0,o.renderWatcherUnsubscribe=function(){},o.animateShow=function(){if(o.widgetContainerElement&&!It(o.payment.sheet)&&o.options.widgetType!==A.BnplRequired){var t=o.widgetContainerElement.getBoundingClientRect().width<325?"40px":"48px";go.style(o.widgetContainerElement,{height:t}),setTimeout((function(){go.style(o.widgetContainerElement,{transition:"height 150ms ease-in-out"})}))}},o.onButtonClick=function(t){o.emit(T.Click,t)},o.onSdkWidgetReady=function(t){o.buttonOptions&&t.buttonTheme&&(o.buttonOptions.theme=t.buttonTheme),o.buttonOptions&&t.buttonExtra&&(o.buttonOptions.innerType=t.buttonExtra.innerType,o.payment.emit(or.PaymentExtra,{innerType:t.buttonExtra.innerType})),Xe(o.payment.sessionId,t),o.showWidget(),br(o.buttonContainer,200),br(o.widgetContainerElement,200),pe.of(dn(o)).mark($t.WidgetMounted)},o.onSdkWidgetExtrasChange=function(t){var e,n;!function(t,e){e&&Dt(e)&&(lr[t.sessionId]=lr[t.sessionId]||{},Object.entries(e).forEach((function(e){var n=e[0],o=e[1];lr[t.sessionId][n]=o})))}(o.payment,(e=t,(n={})[kr.isPayWithSplit]=m()(["split","payWithSplit"],void 0,e),n[kr.splitOnly]=m()(["split","onlySplit"],void 0,e),n[kr.splitActivePlan]=m()(["split","activePlan"],void 0,e),n))},o.onSdkWidgetSizeChange=function(t){var e=t.widgetSize,n=t.buttonPosition,r=t.badgesHeight,i=n||{},a=i.top,s=i.left,u=i.width,c=i.height;e.height&&o.widgetContainerElement&&(o.widgetContainerElement.style.height=e.height,"0"===e.height?go.hide(o.widgetContainerElement,!0):go.show(o.widgetContainerElement)),o.buttonContainer&&(a&&go.style(o.buttonContainer,{top:a}),s&&go.style(o.buttonContainer,{left:s}),u&&go.style(o.buttonContainer,{width:u}),c&&go.style(o.buttonContainer,{height:c})),r&&o.button&&o.button.setBackdrop(r),c&&o.options.borderRadius&&o.options.borderRadius>=parseFloat(c)/2&&(o.options.borderRadius=parseFloat(c)/2,o.widgetContainerElement&&(o.widgetContainerElement.style.borderRadius=o.options.borderRadius+"px")),o.hasButton&&!o.button&&o.mountButton()},o.onSdkWidgetFailure=function(){o.unmountWidget(),o.unmountButton()};try{o.payment=n,o.options=function(t,e){var n=Object.assign({},e,t),o=n.buttonType,r=n.bnplSelected,i=n.borderRadius,a=n.buttonTheme,s=n.widgetTheme,u=n.widgetType;return n.buttonType=U(o,Object.values(O),e.buttonType,"buttonType"),"boolean"!=typeof r&&(n.bnplSelected=e.bnplSelected,B('SDK: Invalid "bnplSelected" option',{bnplSelected:r}),console.warn('The "bnplSelected" option should be boolean.')),n.borderRadius=Number(n.borderRadius),Number.isFinite(n.borderRadius)||(n.borderRadius=e.borderRadius,B('SDK: Invalid "borderRadius" option',{borderRadius:i}),console.warn('The "borderRadius" option should be number (px).')),n.buttonTheme=U(a,Object.values(x),e.buttonTheme,"buttonTheme"),n.widgetTheme=U(s,Object.values(R),e.widgetTheme,"widgetTheme"),n.widgetType=U(u,Object.values(A),e.widgetType,"widgetType"),n}(e,Cr),o.hasButton=o.options.widgetType!==A.BnplPreview,o.buttonOptions=L({style:{borderRadius:o.options.borderRadius+"px",height:"100%"},theme:o.options.buttonTheme},Pr)}catch(t){throw E("button create",t),t}return o}Tt(e,t),e.create=function(t,n){return new e(t,n)};var n=e.prototype;return n.destroy=function(){t.prototype.destroy.call(this),this.unmount()},n.mount=function(t){var e=this;if(t){pe.of(this).mark($t.WidgetMountingStarted),pe.ofSession(this.payment.sessionId).mark($t.FirstViewMountingStarted),this.parent&&this.unmount();try{this.parent=t,this.hasShadowRoot=void 0!==window.ShadowRoot&&t instanceof ShadowRoot,this.mountStyles(),this.mountWidgetContainer(),this.hasButton&&(this.mountButtonContainer(),It(this.payment.sheet)||this.options.widgetType===A.BnplRequired?(go.style(this.widgetContainerElement,{transition:""}),go.style(this.buttonContainer,{transition:""})):this.mountButton()),this.hasButton&&this.widgetContainerElement&&(this.renderWatcherUnsubscribe=Wo(this.widgetContainerElement,(function(t){return Ze(e.payment.sessionId,{watcher:t})}))),this.mountWidget()}catch(t){E("button mount",t)}}else B("SDK: Falsy parent on widget mount",{fn:"Widget.mount",message:"parent: "+t})},n.unmount=function(){this.parent=void 0,this.renderWatcherUnsubscribe(),this.unmountButton(),this.unmountButtonContainer(),this.unmountWidget(),this.unmountWidgetContainer(),this.unmountStyles()},n.mountWidgetContainer=function(){var t,e,n=Sr(),o=document.createElement("div");o.setAttribute("class",n),go.style(o,(t={borderRadius:this.options.borderRadius},e=t.borderRadius,{width:"100%",height:"0",position:"relative",display:"inline-block","box-sizing":"border-box",overflow:"hidden","border-radius":Number.isFinite(e)?e+"px":"8px",transform:"translate3d(0, 0, 0)","z-index":"100"})),this.parent?go.add(this.parent,o):P("SDK: Cannot mount widget container: has no parent element"),this.widgetContainerElement=o},n.mountButtonContainer=function(){if(this.widgetContainerElement){var t=Sr("container",{}),e=document.createElement("div");e.setAttribute("class",t),go.style(e,{position:"absolute",top:"0",right:"0",bottom:"0",left:"0",border:"0",width:"100%",height:"100%","z-index":"2",display:"flex","flex-direction":"column-reverse","justify-content":"flex-end",transition:"top 150ms ease-in-out, left 150ms ease-in-out, width 150ms ease-in-out"}),go.add(this.widgetContainerElement,e),this.animateShow(),this.buttonContainer=e}else P("SDK: Skip widget button mount on nonexisting parent")},n.unmountWidgetContainer=function(){this.widgetContainerElement&&go.remove(this.widgetContainerElement)},n.unmountButtonContainer=function(){this.buttonContainer&&go.remove(this.buttonContainer)},n.mountStyles=function(){var t=document.createElement("style");t.setAttribute("type","text/css"),this.hasShadowRoot?(this.styleElement=t,this.parent?go.add(this.parent,t):B("SDK: Widget cannot mount styles: has no parent element")):e.isMainStylesMounted||(document.head.appendChild(t),e.isMainStylesMounted=!0)},n.unmountStyles=function(){this.styleElement&&go.remove(this.styleElement)},n.mountWidget=function(){this.widgetContainerElement&&this.widgetContainerElement.isConnected?(this.widget=wr.create(this.payment,this.options),this.widget.mount(this.widgetContainerElement),this.widget.on(vr.Ready,this.onSdkWidgetReady),this.widget.on(vr.Failure,this.onSdkWidgetFailure),this.widget.on(vr.WidgetSizeChange,this.onSdkWidgetSizeChange),this.widget.on(vr.WidgetExtrasChange,this.onSdkWidgetExtrasChange)):B("Skip payment-method mount on unconnected button")},n.unmountWidget=function(){this.widget&&this.widget.destroy()},n.showWidget=function(){this.widget&&this.widget.show()},n.mountButton=function(){if(this.button&&this.unmountButton(),this.buttonOptions&&this.buttonContainer){var t=dr.create(this.buttonOptions,this.payment,{disableStickyButton:!0});pe.of(this).fork({isInWidget:!0}).bind(t),this.button=t,this.button.mount(this.buttonContainer),this.button.on(T.Click,this.onButtonClick)}else B("Skip private button mount on nonexisting parent")},n.unmountButton=function(){this.button&&this.button.destroy()},e}(wo);Er.isMainStylesMounted=!1;var Br=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this).resolvers={},e.hasListener=function(t){return e.listeners[t]&&e.listeners[t].length>0},e}Tt(e,t);var n=e.prototype;return n.resolve=function(t,e){var n=this.resolvers[t];n&&Nt(e)&&e.then(n)},n.on=function(e,n){return t.prototype.on.call(this,e,n)},n.emit=function(t,e){var n=this;(this.listeners[t]||[]).forEach((function(o){var r=o.call(n,e);n.resolve(t,r)}))},e}(wo),Mr=function(t){function e(e){var n;return(n=t.call(this)||this).payment=void 0,n.payment=e,n}return Tt(e,t),e.prototype.setPayment=function(t){this.payment=t},fn(e,[{key:"env",get:function(){return this.payment.env}},{key:"sheet",get:function(){return this.payment.sheet}},{key:"sessionId",get:function(){return this.payment.sessionId}}]),e}(wo),Ir=["env"],Or=function(t){function e(e,n){var o,r;if((o=t.call(this)||this).offFrameBroadcastListener=void 0,o.checkoutCounter=0,o.overlay=void 0,o.connectionOptions=void 0,o.connectionManager=void 0,o.connectionAgent=void 0,o.checkTargetOpeningTimer=void 0,o.abortChecksAttempts=0,o.checkoutSessionCompleted=void 0,o.paymentProcessing=!1,o.formLoading=!1,o.formBaseUrl=void 0,o.formWindowFeatures=void 0,o.proxy=void 0,o.buttons=[],o.widgets=[],o.env=void 0,o.sheet=void 0,o.sessionId=void 0,o.onMessage=function(t){var e;if(t&&t.type)switch(t.type){case er.Ready:I("SDK: Form message event",{sdkInFrame:Ot(),eventType:t.type}),o.formLoading=!1,o.emit(t.type,t);break;case er.Change:case er.Reset:case er.Setup:o.emit(t.type,t);break;case er.Success:case er.Process:I("SDK: Form message event",{sdkInFrame:Ot(),eventType:t.type,sessionType:o.sheet.type});Ge(o.sessionId,1500,(function(e){e&&B("SDK: Error on send metrica process event",{error:e});var n=t.type===er.Success||t.type===er.Process&&t.paymentMethodInfo.type===yt.Split;o.completeCheckoutSession(),t.type===er.Process&&o.processCheckout(),n||o.closeCheckoutWindow("process"),function(t,e){void 0===e&&(e=0);var n=Date.now();if(!document.visibilityState)return t("undefined");Ro((function o(){var r=document.visibilityState;"visible"===r?t():e>0&&Date.now()-n>e?t("timer",r):Ro(o,Math.min(e,500))}),0)}((function(e,n){e&&B("SDK: Unexpected page focus",{trigger:e,state:n}),o.emit(t.type,t)}),5e3)}));break;case er.Abort:I("SDK: Form message event",{sdkInFrame:Ot(),eventType:t.type,sessionType:o.sheet.type}),o.startCheckingTargetOpening(t);break;case er.Error:I("SDK: Form message event",{sdkInFrame:Ot(),eventType:t.type,reason:t.reason,sessionType:o.sheet.type}),o.completeCheckoutSession(),o.closeCheckoutWindow("error"),o.emit(t.type,t);break;case er.Ping:var n={type:rr.Ping};null!==(e=o.connectionAgent)&&void 0!==e&&e.isConnected?o.connectionAgent.send(n):o.sendFrameBroadcastMessage(n)}},o.onOverlayClick=function(){o.connectionAgent&&o.connectionAgent.focus()},o.onBeforeUnload=function(){o.destroyChannel()},o.onTargetOpeningCheck=function(t){!(o.connectionAgent&&o.connectionAgent.isConnected)&&(o.abortChecksAttempts+=1),o.abortChecksAttempts>=2&&(o.destroyChannel(),o.checkoutSessionCompleted||(o.completeCheckoutSession(),I("SDK: Not connected",{sdkInFrame:Ot(),eventType:t.type,sheetType:o.sheet.type}),o.emit(t.type,t)))},null===e)throw P("SDK: Payment create error: payment data is null"),new Error("Payment data is null");try{var i=e.env,a=void 0===i?lt.Production:i,s=cn(e,Ir);o.env=a,o.sheet=s,o.sessionId=n,o.proxy=new Mr(dn(o)),o.overlay=pr.getInstance(),o.overlay.on(pr.Events.Click,o.onOverlayClick),o.formBaseUrl=(r=o.sheet.type)===ht.Payment?z:[ht.Checkout,ht.CheckoutOld].includes(r)?V:K,o.formWindowFeatures=function(t){var e=window.screen,n=t[0],o=t[1];if(!(e.width<n||e.height<o))return["scrollbars=yes","resizable=yes","status=no","location=no","toolbar=no","menubar=no","width="+n,"height="+o,"left="+(e.width-n>>1),"top="+(e.height-o>>1)].join(",")}(o.sheet.type===ht.Payment?G:Q);var u=$o(o.formBaseUrl,o.sessionId,{env:a,extra:mr(o.__proxy()),sessionType:o.sheet.type}),c=function(t){return t+"-"+Date.now()}("YandexPay");o.connectionOptions=new Zn({targetUrl:u,channel:c,sessionId:o.sessionId}),o.connectionManager=new uo(o.connectionOptions),o.connectionManager.on(o.onMessage),go.on(window,"beforeunload",o.onBeforeUnload),go.on(window,"unload",o.onBeforeUnload),Ve(o.sessionId),o.logIfMissedImportantSubscribers(),o.logMissedQueryTokenHandler()}catch(t){throw P("SDK: Payment create error",t),t}return o}Tt(e,t);var n=e.prototype;return n.__proxy=function(){return this.proxy},n.mountButton=function(t,e){var n=this,o=new dr(e,this.proxy);pe.ofSession(this.sessionId).fork().bind(o);var r=o.on(T.Click,(function(){return n.checkout()}));o.mount(t),this.buttons.push({parent:t,button:o,offCheckout:r})},n.unmountButton=function(t){this.buttons=this.buttons.filter((function(e){var n=e.parent,o=e.button;return t===n&&o.destroy(),t!==n}))},n.mountWidget=function(t,e){var n=this,o=new Er(e,this.proxy);pe.ofSession(this.sessionId).fork().bind(o);var r=o.on(T.Click,(function(){return n.checkout()}));o.mount(t),this.widgets.push({parent:t,widget:o,offCheckout:r})},n.unmountWidget=function(t){this.widgets=this.widgets.filter((function(e){var n=e.parent,o=e.widget;return t===n&&o.destroy(),t!==n}))},n.update=function(t){try{M("SDK: Update paymentSheet started"),Yt(this.sheet,t)&&this.proxy.emit(or.PaymentUpdate,null);var e={type:rr.Update,updateData:t};this.connectionAgent&&this.connectionAgent.isConnected?(this.connectionAgent.send(e),this.formLoading&&E("SDK: Update sheet on form loading, type: "+this.sheet.type)):this.sendFrameBroadcastMessage(e)}catch(t){P("SDK: Update paymentSheet failed",t)}},n.complete=function(t,e){qe(this.sessionId,t);var n={type:rr.Complete,reason:t,errors:JSON.stringify(e)};this.connectionAgent&&this.connectionAgent.isConnected?this.connectionAgent.send(n):(this.sendFrameBroadcastMessage(n),this.destroyChannel())},n.checkout=function(){try{var t=yr.getInstance();if(this.paymentProcessing)return;if(this.connectionAgent)return void this.connectionAgent.focus();var e=t.paymentReady.get(this.sessionId);if(!1===e)return this.proxy.emit(or.PaymentError,null),void B("SDK: Payment is forbidden by payment ready check");null==e&&E("SDK: Check payment ready result is missing"),t.paymentStart.set(this.sessionId,!0),this.checkoutCounter+=1,this.checkoutSessionCompleted=!1,this.formLoading=!0,Ye(this.sessionId,this.checkoutCounter);var n=hr(this.sheet),o=Un?void 0:this.formWindowFeatures,r=$o(this.formBaseUrl,this.sessionId,{checkoutCounter:this.checkoutCounter,env:this.env,sessionType:this.sheet.type,extra:mr(this.__proxy()),amAuth:n.auth,passportOrigin:w("custom_passport_origin"),duid:co("_ym_uid",void 0),sdkInIframe:Ot()});this.connectionManager.options.targetUrl=r;try{this.connectionAgent=this.connectionManager.open({type:rr.Payment,sheet:this.sheet},o,this.logQueryModeInIFrame,n.redirect,Ot()),this.startCheckingTargetOpening({type:er.Abort,reason:nr.Close}),Un||this.overlay.show()}catch(t){I("SDK: Start listen broadcast",{sdkInFrame:Ot(),sheetType:this.sheet.type}),this.overlay.hide(),this.proxy.emit(or.PaymentError,null),this.startBroadcastMode()}}catch(t){E("payment checkout",t)}},n.sendFrameBroadcastMessage=function(t){var e=String(new xn(t,this.connectionOptions.channel,this.connectionOptions.sourceUrl));yr.getInstance().sendMessage({type:or.SdkBroadcastSendMessage,message:e,channel:this.sessionId})},n.onFrameBroadcastMessage=function(t){var e=new MessageEvent("message",{data:t.message});try{var n=function(t,e){var n=Vn(t);return zn(n,e)}(e,this.connectionOptions),o=n.payload;this.onMessage(o)}catch(t){E("SDK: Can't parse broadcast frame message")}},n.startBroadcastMode=function(){var t=this;this.offFrameBroadcastListener=yr.getInstance().on(or.SdkBroadcastOnMessage,(function(e){return t.onFrameBroadcastMessage(e)})),this.sendFrameBroadcastMessage({type:rr.Ping})},n.completeCheckoutSession=function(){this.checkoutSessionCompleted=!0,this.formLoading=!1,this.overlay.hide(),yr.getInstance().paymentStart.delete(this.sessionId)},n.processCheckout=function(){this.paymentProcessing=!0,this.buttons.forEach((function(t){return(0,t.offCheckout)()})),this.proxy.emit(or.PaymentProcess,null)},n.closeCheckoutWindow=function(t){var e=this;this.connectionAgent&&this.connectionAgent.isConnected?(this.connectionAgent.close(),this.stopCheckingTargetOpening(),setTimeout((function(){e.connectionAgent&&e.connectionAgent.isConnected&&B("SDK: Pay form not closed",{source:"sdk",from:t})}),3e3)):this.sendFrameBroadcastMessage({type:rr.Complete,reason:ir.Close})},n.destroy=function(){t.prototype.destroy.call(this),this.complete(ir.Close),this.destroyChannel(),pe.unbindFromSession(this.sessionId),this.sheet=void 0,this.connectionManager.destroy(),this.connectionManager=null,this.overlay.destroy(),this.overlay=null,this.buttons.forEach((function(t){return t.button.destroy()})),this.buttons=[],this.widgets.forEach((function(t){return t.widget.destroy()})),this.widgets=[],this.offFrameBroadcastListener&&this.offFrameBroadcastListener()},n.destroyChannel=function(){this.stopCheckingTargetOpening(),this.connectionAgent&&(this.connectionAgent.destroy(),this.connectionAgent=null),this.overlay.hide()},n.startCheckingTargetOpening=function(t){this.stopCheckingTargetOpening(),this.checkTargetOpeningTimer=setInterval(this.onTargetOpeningCheck,250,t)},n.stopCheckingTargetOpening=function(){this.checkTargetOpeningTimer&&(clearInterval(this.checkTargetOpeningTimer),this.checkTargetOpeningTimer=void 0,this.abortChecksAttempts=0)},n.logQueryModeInIFrame=function(){var t=Ot();return t?B("SDK: Query mode in iframe"):M("SDK: Query mode in top window"),t},n.logIfMissedImportantSubscribers=function(){var t=this;setTimeout((function(){if(t.sheet){var e=wt(t.sheet)?er.Success:er.Process;t.hasListener(e)||(console.warn("Yandex.Pay: Payment object requires subscriptions on %c"+e+" event","font-weight: bold;"),M("SDK: Missed subscription: "+e))}}),10)},n.logMissedQueryTokenHandler=function(){var t=this,e=this.connectionManager.hasQueryMessage(),n=e.hasMessage,o=e.hasForceMode;n&&this.once(er.Process,(function(){var e={forceMode:String(o)};t.hasListener(er.Process)?M("SDK: Query token successfully handled",e):P("SDK: Query token not handled by merchant",e)}))},e}(Br),xr=function(t){function e(e,n){return t.call(this,e,n)||this}return Tt(e,t),e.prototype.update=function(e){t.prototype.update.call(this,e)},e}(Or),_r=function(t){return t.toString()},Tr=function(t){return"{"+t+"}"};function Ar(t,e){var n;return null!==(n=t.errors)&&void 0!==n&&n.length?Rr(t.errors,e):[{path:e,error:{expected:t.expected,got:t.got}}]}function Rr(t,e){void 0===e&&(e="");for(var n=[],o=0;o<t.length;o++){var r=e?e+"."+t[o].path.toString():t[o].path,i=Ar(t[o].error,r.toString());n.push.apply(n,i)}return n}var Ur=function(t){function e(n,o,r){var i,a,s,u=_r(n),c="function"==typeof o?String(o):JSON.stringify(o);return(s=t.call(this,"Invalid type! Expected "+u+" but got "+c+"!")||this).details=void 0,s.description=void 0,s.details=r.value,s.description=function(t){try{if(!t)return{};var e=Rr(t),n={};return e.forEach((function(t){n[t.path.toString()]=t.error})),n}catch(t){return{error:t}}}(null===(i=s.details)||void 0===i?void 0:i.errors),s.name="ValidationError",null===(a=Error.captureStackTrace)||void 0===a||a.call(Error,dn(s)),Object.setPrototypeOf(dn(s),e.prototype),s}return Tt(e,t),e}(Ut(Error)),Lr=function(t){return function(e){var n=t.__validate(e);if("right"===n._t||"nextValid"===n._t)return n.value;throw new Ur(t,e,n)}},Fr={right:function(t){return{_t:"right",value:t}},left:function(t){return{_t:"left",value:t}},nextValid:function(t){return{_t:"nextValid",value:t}},nextNotValid:function(t){return{_t:"nextNotValid",value:t}}},Wr=function(t,e){return function(n){return Object.assign({},n,{toString:function(){return t=[null==n?void 0:n.toString(),null==e?void 0:e()].filter((function(t){return"string"==typeof t&&""!==t})),o=t.join(" | "),t.length>1?"("+o+")":o;var t,o},__validate:function(e){var o=t.call(this,e,Fr);return"left"===o._t||"right"===o._t?o:n?"nextNotValid"===o._t?n.__validate(o.value.got):n.__validate(o.value):o}})}},Dr=Wr((function(t,e){return"string"!=typeof t?e.left({expected:"string",got:t}):e.nextValid(t)}),(function(){return"string"}));function jr(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return n.reduce((function(t,e){return e(t)}),"function"==typeof t?t():t)}var Nr=function(t){return"object"==typeof t&&null!==t&&"__validate"in t&&"toString"in t},Kr=function(t,e,n){void 0===e&&(e=function(t){return t});var o=function(){return t.map((function(t){return Nr(t)?_r(t):JSON.stringify(t)})).join(" | ")};return Wr((function(r,i){for(var a=0;a<t.length;++a){var s=t[a];if(Nr(s)){var u=s.__validate(r);if("right"===u._t)return i.right(u.value);if("nextValid"===u._t)return i.nextValid(u.value)}var c=e(s);if(e(r)===c)return i.right(c)}return void 0!==n?i.right(n):i.left({expected:o(),got:r})}),(function(){var e=o();return t.length>1?"("+e+")":e}))},zr=Wr((function(t,e){return"boolean"!=typeof t?e.left({expected:"boolean",got:t}):e.nextValid(t)}),(function(){return"boolean"})),Vr=Wr((function(t,e){return void 0===t?e.right(void 0):e.nextNotValid({expected:"optional",got:t})}),(function(){return"undefined"})),qr=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Wr((function(t,n){if(!Array.isArray(t))return n.left({expected:"array",got:t});var o=!1,r=new Array(t.length),i=[];t:for(var a=0;a<t.length;++a){for(var s=t[a],u=void 0,c=void 0,d=0;d<e.length;++d)if("right"===(u=(c=e[d]).__validate(s))._t||"nextValid"===u._t){r[a]=u.value;continue t}u&&c&&("nextNotValid"===u._t||"left"===u._t)&&(i.push({path:a,error:u.value}),o=!0)}return o?n.left({expected:"array",got:t,errors:i}):n.nextValid(r)}),(function(){var t=e.map((function(t){return _r(t)})).join(" | ");return e.length>1?"("+t+")[]":t+"[]"}))},Yr=n(368),Hr=n.n(Yr),Jr=n(194),Qr=n.n(Jr),Gr=function(t){return"string"==typeof t?Qr()(t):t},Zr=function(t){return"string"==typeof t?Hr()(t):t},Xr={allowUnknownKeys:!0},$r=function(t,e){return function(t,e,n){return Wr((function(o,r){if("object"!=typeof o||null===o)return r.left({expected:"object",got:o});var i=Object.assign({},o);if(n)for(var a in n)!i[a]&&n[a]&&(i[a]=n[a]);var s=t,u=!(null==e||!e.allowUnknownKeys),c=[],d=!1,h={};for(var l in i)if(Object.prototype.hasOwnProperty.call(i,l)){var m=i[l],f=s[l];if(f){var p=f.__validate(m);h[l]=p.value,"left"===p._t&&(c.push({path:l,error:p.value}),d=!0)}else u?h[l]=m:(d=!0,c.push({path:l,error:{expected:"unknownKey",got:m}}))}for(var y in s)if(Object.prototype.hasOwnProperty.call(s,y)&&!(y in h)){var v=s[y],g=i[y],b=v.__validate(g);"left"===b._t&&(c.push({path:y,error:b.value}),d=!0)}return d?r.left({expected:"object",got:o,errors:c}):r.nextValid(h)}),(function(){var e=Object.entries(t).map((function(t){var e=t[0],n=t[1];return[e,_r(n)]}));return 0===e.length?Tr(""):Tr(" "+e.map((function(t){var e,n=t[0],o=t[1];return(/\s/.test(e=n)?'"'+e+'"':e)+": "+o})).join(", ")+" ")}))}(t,Xr,e)},ti=Wr((function(t,e){var n="string"==typeof t?t.replace(",","."):t;return isFinite(n)?e.nextValid(Number(n).toFixed(2)):e.left({expected:"Price",got:t})}),(function(){return"Price"})),ei=Wr((function(t,e){return isFinite(t)?e.nextValid(Math.floor("number"==typeof t?t:Number(t))):e.left({expected:"finite integer",got:t})}),(function(){return"finite integer"})),ni=function(t){return isFinite(t)?Number(t):t},oi=$r({count:ei()}),ri=$r({value:Dr()}),ii=$r({email:jr(Kr([zr()],Boolean),Vr),name:jr(Kr([zr()],Boolean),Vr)}),ai=$r({billingContact:jr(ii,Vr)}),si=$r({amount:ti(),type:Vr(Kr(Object.values(pt),Gr)()),label:Vr(Dr()),quantity:Vr($r({count:ei(),label:Vr(Dr())})())}),ui=$r({version:Kr([2],ni)(),merchant:$r({id:Dr(),name:Dr(),url:jr(Dr,Vr)})(),order:$r({id:Dr(),items:jr(qr(si()),Vr),total:$r({amount:ti(),label:jr(Dr,Vr)})(),cartExternalId:jr(Dr,Vr)})(),currencyCode:Kr(Object.values(ft),Gr)(),recurringOptions:Vr(Kr([$r({type:Kr([bt.Recurring],Gr)(),optional:Vr(zr())})(),$r({type:Kr([bt.Deferred],Gr)()})()])()),language:jr(Kr(["ru","en"],Zr),Vr),requiredFields:jr(ai,Vr),env:jr(Kr(Object.values(lt),Gr,lt.Production),Vr),type:Kr(Object.values(ht))(),countryCode:Kr(Object.values(mt),Gr)()},{order:{id:"0",total:{amount:"0.00"}}})(),ci=$r({version:Kr([3],ni)(),merchantId:Dr(),currencyCode:Kr(Object.values(ft),Gr)(),cart:$r({items:qr($r({productId:Dr(),total:ti(),quantity:jr(oi,Vr)})())(),coupons:jr(qr(ri()),Vr),externalId:jr(Dr,Vr)})(),orderId:jr(Dr,Vr),language:jr(Kr(["ru","en"],Zr),Vr),metadata:jr(Dr,Vr),availablePaymentMethods:jr(qr(Kr(Object.values(yt),Gr)()),Vr),type:Kr(Object.values(ht))(),env:jr(Kr(Object.values(lt),Gr,lt.Production))})(),di=Lr($r({version:Kr([4],ni)(),merchantId:Dr(),currencyCode:Kr(Object.values(ft),Gr)(),totalAmount:ti(),availablePaymentMethods:jr(qr(Kr(Object.values(yt),Gr)()),Vr),language:jr(Kr(["ru","en"],Zr),Vr),type:Kr(Object.values(ht))(),env:jr(Kr(Object.values(lt),Gr,lt.Production),Vr)})()),hi=Lr(ci),li=Lr(ui),mi=function(t,e){try{var n=e(t);return I("Validation V2/V3 OK"),n}catch(e){var o=e.message||e;if("description"in e&&e.description?(I("SDK: Payment validation failed with errors",{merchantId:Pt(t),sheetVersion:t.version,errors:e.description}),o="Payment validation failed with errors: "+JSON.stringify(e.description),console.warn(o)):I("SDK: Payment validation failed",e),St(t))throw new Error(o);return t}};function fi(t){var e,n=(e=t,Object.assign({},e,{type:Vt(e)}));return St(n)?mi(n,di):wt(n)?mi(n,hi):mi(n,li)}var pi={__proxy:function(){return new Mr(this)},env:lt.Production,sessionId:"deprecatedButtonFallbackPayment",sheet:{type:ht.Payment,version:3,merchantId:"deprecatedButtonFallbackMerchantId",cart:{items:[]},currencyCode:ft.Rub}},yi=function(t){function e(n){var o;M("SDK: Usage of DeprecatedButton");var r=e.lastPayment,i=r?r.__proxy():new Mr(pi);return o=t.call(this,n,i)||this,r||(e.waitProxies.push(i),B("Create button without payment")),o}return Tt(e,t),e.create=function(t){return new e(t)},e.setPayment=function(t){e.lastPayment=t,e.waitProxies.forEach((function(e){e.setPayment(t)})),e.waitProxies=[]},e}(dr);yi.lastPayment=void 0,yi.waitProxies=[];var vi=function(t){function e(e,n){var o;return(o=t.call(this,e,n)||this).resolvers[er.Change]=function(t){t&&o.update(t)},o.resolvers[er.Reset]=function(t){t&&o.update(t)},o.resolvers[er.Setup]=function(t){t&&o.setup(t)},o}Tt(e,t);var n=e.prototype;return n.createButton=function(t){var e=new dr(t,this.proxy);return pe.ofSession(this.sessionId).fork().bind(e),e},n.setup=function(t){this.connectionAgent&&this.connectionAgent.isConnected&&this.connectionAgent.send({type:rr.Setup,setupData:t})},n.checkout=function(){return t.prototype.checkout.call(this)},e}(Or),gi=function(t){return t};function bi(t,e,n){return new Promise((function(o,r){var i,a,s=[{supportedMethods:"yandexpay",data:{uid:e,paymentSheet:t,sessionId:n}}],u={id:a=Et(i=t),total:{label:kt(i)&&void 0!==i.order.total.label?i.order.total.label:gi("Ð—Ð°ÐºÐ°Ð·")+" "+a,amount:{value:Mt(i),currency:i.currencyCode}}};try{var c=new PaymentRequest(s,u);c.canMakePayment().then((function(t){t?c.show(Promise.resolve(u)).then(o,r):r(new Error("Can't make payment"))}),r)}catch(t){r(t)}}))}function wi(t){return t.paymentMethodType===yt.Card?{type:yt.Card,cardLast4:t.cardLast4,cardNetwork:t.cardNetwork}:{type:yt.Cash}}var ki=function(t){function e(e,n){var o;return(o=t.call(this,e,n)||this).praStatus=void 0,o.praStatus="init",o}Tt(e,t);var n=e.prototype;return n.createButton=function(t){var e=new dr(t,this.proxy);return pe.ofSession(this.sessionId).fork().bind(e),e},n.checkoutByPaymentRequestApi=function(){var t=this;return He(this.sessionId,this.checkoutCounter),new Promise((function(e,n){var o=performance.now();bi(Object.assign({},t.sheet,{env:t.env}),Eo.get("uid"),t.sessionId).then((function(n){var o=n.details,r=o.paymentResult,i=o.details;if(M('PaymentRequestApiResponse in PP. Result="'+r+'"'),Je(t.sessionId,r),r===er.Process){var a={paymentMethodInfo:wi(i),type:er.Process,token:i.paymentToken,orderAmount:Mt(t.sheet)};i.email&&(a.billingContact={email:i.email}),t.emit(er.Process,a)}else r===er.Abort?(n.complete("unknown"),t.emit(er.Abort,{type:er.Abort})):(n.complete("fail"),t.emit(er.Error,{type:er.Error,reason:i.error}));e()})).catch((function(e){var r=performance.now()-o;E("PaymentRequestApiError in PP",{message:e.name+": "+e.message}),Qe(t.sessionId,e.message,r),n(e)}))}))},n.checkout=function(){var e=this;if("failed"===this.praStatus||!Dn||Ot()||Eo.get("disabledPRA")||!(Wn||Fn&&Eo.get("hasNewPRA")))return t.prototype.checkout.call(this);"pending"!==this.praStatus&&(this.praStatus="pending",this.checkoutByPaymentRequestApi().then((function(){e.praStatus="init"}),(function(){e.praStatus="failed",t.prototype.checkout.call(e)})))},n.update=function(e){t.prototype.update.call(this,e)},e}(Or);var Si=["env"],Ci=function(){function t(t,e,n){this.checkoutCounter=0,this.formLoading=!1,this.onFormOpenError=void 0,this.onPayButtonClick=void 0,this.proxy=void 0,this.buttons=[],this.widgets=[],this.env=void 0,this.sheet=void 0,this.sessionId=void 0;try{var o=n.onFormOpenError,r=n.onPayButtonClick;if(null===t)throw new Error("Payment data is null");if(!r||!jt(r))throw new Error("onPayButtonClick must be a function");var i=t.env,a=void 0===i?lt.Production:i,s=cn(t,Si);this.onPayButtonClick=r,this.onFormOpenError=o,this.env=a,this.sheet=s,this.sessionId=e,this.proxy=new Mr(this),Ve(this.sessionId)}catch(t){throw P("SDK: PaymentV4 create error",t),t}}var e=t.prototype;return e.__proxy=function(){return this.proxy},e.mountButton=function(t,e){var n=this,o=new dr(e,this.proxy);pe.ofSession(this.sessionId).fork().bind(o);var r=o.on(T.Click,(function(){n.checkout()}));o.mount(t),this.buttons.push({parent:t,button:o,offCheckout:r})},e.unmountButton=function(t){this.buttons=this.buttons.filter((function(e){var n=e.parent,o=e.button;return t===n&&o.destroy(),t!==n}))},e.mountWidget=function(t,e){var n=this,o=new Er(e,this.proxy);pe.ofSession(this.sessionId).fork().bind(o);var r=o.on(T.Click,(function(){return n.checkout()}));o.mount(t),this.widgets.push({parent:t,widget:o,offCheckout:r})},e.unmountWidget=function(t){this.widgets=this.widgets.filter((function(e){var n=e.parent,o=e.widget;return t===n&&o.destroy(),t!==n}))},e.update=function(t){Yt(this.sheet,t)&&this.proxy.emit(or.PaymentUpdate,null),this.formLoading&&E("SDK: Update sheet on form loading, type: Redirect")},e.onClick=function(){var t=this;return Zt(ot.SdkByTokenRequest),Zt(ot.SdkByTokenRequestError),new Promise((function(e,n){var o=t.onPayButtonClick();Nt(o)||(o=Promise.resolve(o)),setTimeout((function(){n(new Error("Yandex.Pay: onPayButtonClick canceled by timeout"))}),1e4),o.then((function(t){if(!t||"string"!=typeof t)throw new Error("Yandex.Pay: onPayButtonClick must return a Payment URL as a string");Xt(ot.SdkByTokenRequest),e(t)})).catch((function(t){Xt(ot.SdkByTokenRequestError),n(t)}))}))},e.checkout=function(){var t=this;this.checkoutCounter+=1,this.formLoading=!0;var e=hr(this.sheet);this.proxy.emit(or.PaymentLock,null),this.onClick().then((function(n){var o=yr.getInstance();o.once(or.SdkCheckPaymentResponse,(function(n){var r=n.fullPaymentUrl;if(!r)return E("SDK CheckPayment: Incorrect payment params"),t.emitError(new Error("Yandex.Pay: Incorrect payment params")),void t.onCheckoutError();var i=o.paymentReady.get(t.sessionId);if(!1===i)return t.proxy.emit(or.PaymentError,null),void B("SDK: Payment is forbidden by payment ready check");null==i&&E("SDK: Check payment ready result is missing");var a,s=function(t,e,n){void 0===n&&(n={});var o=t,r=Xo(e,n),i=bn(t),a=bn(V);return n.env!==lt.Sandbox&&(o=t.replace(i,a)),Pn(o,r)}(r,t.sessionId,{checkoutCounter:t.checkoutCounter,env:t.env,extra:mr(t.proxy),amAuth:e.auth,passportOrigin:w("custom_passport_origin"),duid:co("_ym_uid",void 0)});Ye(t.sessionId,t.checkoutCounter),a=s,window.top.location.href=a})),o.sendMessage({type:or.CheckPayment,env:t.env,paymentUrl:n,merchantId:Pt(t.sheet)})})).catch((function(e){E("SDK: PaymentV4 checkout error",e),t.emitError(e),t.onCheckoutError()}))},e.destroy=function(){this.sheet=void 0,this.buttons.forEach((function(t){return t.button.destroy()})),this.buttons=[],this.widgets.forEach((function(t){return t.widget.destroy()})),this.widgets=[]},e.emitError=function(t){console.error(t.message),this.onFormOpenError&&this.onFormOpenError(t.message)},e.onCheckoutError=function(){var t=this;un(this.sessionId,this.checkoutCounter),this.proxy.emit(or.PaymentError,null),setTimeout((function(){t.proxy.emit(or.PaymentUnlock,null)}),3e3),this.formLoading=!1},t}();var Pi,Ei,Bi=function(){function t(t,e,n){this.paymentData=t,this.options=e,this.payment=void 0;var o=e.onAbort,r=e.onError,i=e.onProcess,a=e.onSuccess,s=e.onPayButtonClick,u=e.onFormOpenError;this.payment=function(t,e,n){var o=Vt(t);return o===ht.ByToken?new Ci(t,e,n):[ht.Payment,ht.Checkout].includes(o)?new xr(t,e):new ki(t,e)}(t,n,{onPayButtonClick:s,onFormOpenError:u}),this.payment instanceof Ci||(o&&this.payment.on(er.Abort,(function(t){o(t)})),r&&this.payment.on(er.Error,(function(t){r(t)})),i&&this.payment.on(er.Process,(function(t){i(t)})),a&&this.payment.on(er.Success,(function(t){a(t)})))}var e=t.prototype;return e.mountButton=function(t,e){return this.payment.mountButton(t,e)},e.unmountButton=function(t){return this.payment.unmountButton(t)},e.mountWidget=function(t,e){return this.payment.mountWidget(t,Object.assign({},e,{buttonType:(n=this.paymentData,[ht.Payment,ht.Token].includes(n.type)?O.Pay:[ht.Checkout,ht.CheckoutOld].includes(n.type)?O.Checkout:O.Simple)}));var n},e.unmountWidget=function(t){return this.payment.unmountWidget(t)},e.update=function(t){var e=this;if(jt(t)){var n=t();Nt(n)?(this.payment.__proxy().emit(or.PaymentLock,null),n.then((function(t){return e.payment.update(t)})).finally((function(){return e.payment.__proxy().emit(or.PaymentUnlock,null)}))):this.payment.update(n)}else console.warn("Yandex Pay SDK: paymentSession.update requires a function as an argument.")},e.destroy=function(){return pe.unbindFromSession(this.payment.sessionId),this.payment.destroy()},t}(),Mi=n(292),Ii=n.n(Mi),Oi=[],xi=window.requestAnimationFrame||setTimeout,_i=function(){for(Pi=!0,Ei=!1;Oi.length;){var t=Oi.shift();null==t||t()}Pi=!1},Ti=["s","m","l"],Ai=["dark","light"],Ri=$r({type:Kr(["bnpl","cashback"])(),amount:ti(),"merchant-id":Dr()})(),Ui=$r({type:Kr(["bnpl"])(),amount:ti(),"merchant-id":Dr(),size:jr(Kr(Ti,Zr,"l"),Vr),theme:jr(Kr(Ai,Zr,"light"),Vr),currency:jr(Kr(["RUB"],Gr,"RUB"),Vr),color:jr(Kr(["primary","green"],Zr,"primary"),Vr),variant:jr(Kr(["simple","detailed"],Zr,"detailed"),Vr)})(),Li=$r({type:Kr(["cashback"])(),amount:ti(),"merchant-id":Dr(),size:jr(Kr(Ti,Zr,"l"),Vr),theme:jr(Kr(Ai,Zr,"light"),Vr),currency:jr(Kr(["RUB"],Gr,"RUB"),Vr),color:jr(Kr(["primary","grey","transparent"],Zr,"primary"),Vr)})(),Fi=Lr(Ri),Wi=Lr(Ui),Di=Lr(Li),ji=function(t,e){try{return e(t)}catch(t){var n=t.message||t;throw"description"in t&&t.description&&(n="Badge validation failed with errors: "+JSON.stringify(t.description)),new Error(n)}};function Ni(t){return ji(t,Fi),"bnpl"===t.type?ji(t,Wi):ji(t,Di)}var Ki={l:24,m:18,s:14},zi=Ki.l=24,Vi="image",qi="variables",Yi=["type","amount","merchant-id","size","currency","color","variant","theme"],Hi=["size"],Ji=["type","size","variant"],Qi=function(t){var e="https://pay.yandex.ru/api/v1/badge",n={};return n.type=t.type,n.amount=t.amount,n.currency=t.currency,n.merchant_id=t["merchant-id"],n.render_data=JSON.stringify({color:t.color,variant:t.variant,theme:t.theme}),window.__YAPAY_BADGE_SANDBOX&&(e=Zo(e)),Pn(e,n)},Gi=function(){var t=new WeakMap,e=function(t){return e=t,Ti.includes(e)?t:"l";var e},n=new window.IntersectionObserver(Ii()(125,(function(t){t.forEach((function(t){var e,n=t.isIntersecting,o=t.target;n&&("badgeInternalId"in(e=o)&&"render"in e)&&o.render()}))})),{rootMargin:"250px 100px"});return function(o){function r(){for(var n,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(n=o.call.apply(o,[this].concat(i))||this).badgeInternalId=Lo("badge"),n.lastOptions=void 0,n.throwJs=!1,n.getBadgeOptions=function(){var t=Ni({type:n.getAttribute("type"),amount:n.getAttribute("amount"),"merchant-id":n.getAttribute("merchant-id"),size:n.getAttribute("size"),currency:n.getAttribute("currency"),color:n.getAttribute("color"),variant:n.getAttribute("variant"),theme:n.getAttribute("theme")});return n.lastOptions=t,t},n.updateSize=function(){var o,r,i=t.get(dn(n)),a=go.findNode("."+qi,i);if(a)try{var s=n.getBadgeOptions(),u=e(s.size),c=Ki[u],d=(o=s.type,r=s.variant,"cashback"===o?245/zi:"detailed"===r?310/zi:195/zi);a.textContent="\n                        :host {\n                            height: "+c+"px;\n                            width: "+d*Number(c)+"px;\n                        }\n                    "}catch(t){B("SDK: Badge update size failed",t),console.error(t)}},n}Tt(r,o);var i=r.prototype;return i.connectedCallback=function(){var e,o=this;try{var r=this.getBadgeOptions();sn(r,this.throwJs)}catch(t){}try{if(!t.has(this)){var i=this.attachShadow({mode:"closed"}),a=document.createElement("style"),s=document.createElement("style");s.textContent="\n    :host {\n        display: inline-block;\n        overflow: hidden;\n        vertical-align: middle;\n    }\n\n    .image {\n        height: 100%;\n        width: auto;\n    }",a.className=qi,t.set(this,i),e=function(){i.appendChild(a),i.appendChild(s),o.updateSize()},Pi?e():(Oi.push(e),Ei||(Ei=!0,xi(_i)))}n.observe(this)}catch(t){E("Sdk: badge ShadowRoot already exists")}},i.disconnectedCallback=function(){},i.attributeChangedCallback=function(e){var n=t.get(this);n&&(Ji.includes(e)&&this.updateSize(),!Hi.includes(e)&&go.findNode("."+Vi,n)&&this.render())},i.render=function(){var e=this,o=t.get(this);if(o)try{var r=this.getBadgeOptions(),i=go.findNode("."+Vi,o);if(!i){var a=this.lastOptions||{};an(a,this.throwJs),(i=document.createElement("img")).className=Vi,i.height=zi,i.width=1,i.onerror=function(){i&&(i.style.display="none"),B("SDK: Badge image error",e.lastOptions)},i.onload=function(){i&&(i.style.display="")}}i.src=Qi(r),o.appendChild(i),n.unobserve(this)}catch(t){B("SDK: Badge render failed",t),console.error(t)}},fn(r,null,[{key:"observedAttributes",get:function(){return Yi}}]),r}(Ut(HTMLElement))},Zi=function(){try{return window instanceof Window}catch(t){return!1}}(),Xi=n(450),$i=n.n(Xi);var ta={getTabIcon:function(){return Promise.resolve("")}};function ea(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return na(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return na(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0;return function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function na(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var oa=function(){function t(t,e){this.buttonWatcher=void 0,this.criticalPoints=void 0,this.active=void 0,this.timings=void 0,this.buttonWatcher=t,this.criticalPoints=Array.from(e).sort(),this.active=new Map,this.timings=[]}var e=t.prototype;return e.start=function(){var t=this;this.buttonWatcher.on("change",(function(e){var n=e.mounted,o=e.unmounted;if(n&&n.length)for(var r,i=ea(n);!(r=i()).done;){var a=r.value;t.active.get(a)?B("Trying to log already mounted button"):t.active.set(a,performance.now())}if(o&&o.length)for(var s,u=ea(o);!(s=u()).done;){var c=s.value,d=t.active.get(c);d?(t.timings.push(performance.now()-d),t.active.delete(c)):B("Trying to log unmount on not mounted button")}}));var e=function(){t.send()};go.on(document,"beforeunload",e),go.on(document,"unload",e)},e.median=function(t){var e=t.length/2;return t.length%2==0?(t[e]+t[e-1])/2:t[Math.floor(e)]},e.calculate=function(){var t=Array.from(this.timings).sort(),e=t[0],n=t[t.length-1],o=t.reduce((function(t,e){return t+e}),0);return{timings:t,min:e,max:n,average:o/t.length,median:this.median(t)}},e.send=function(){for(var t,e,n=this.calculate(),o=this.buttonWatcher.values.map((function(t){return t.merchant.id})),r=Object.assign({},n,{merchants:(t=o,Array.from(new Set(t)))}),i=ea(this.criticalPoints);!(e=i()).done;){var a=e.value;if(r.min<a){M("Merchant placed button for less than "+a+"ms",r);break}}},t}(),ra=new oa(Vo,[500,1e3,2e3]),ia=["merchantId"];var aa,sa,ua,ca={},da={},ha=function(t){var e=kn(t.name);if(bn(t.name)===ua){var n=wn(t.name);ca[n]&&aa(ca[n],t,t.name)}da[e]&&aa(da[e],t,t.name)};var la={connectEnd:2116,connectStart:2114,decodedBodySize:2886,domComplete:2124,domContentLoadedEventEnd:2131,domContentLoadedEventStart:2123,domInteractive:2770,domLoading:2769,domainLookupEnd:2113,domainLookupStart:2112,duration:2136,encodedBodySize:2887,entryType:2888,fetchStart:2111,initiatorType:2889,loadEventEnd:2126,loadEventStart:2125,nextHopProtocol:2890,redirectCount:1385,redirectEnd:2110,redirectStart:2109,requestStart:2117,responseEnd:2120,responseStart:2119,secureConnectionStart:2115,startTime:2322,transferSize:2323,type:76,unloadEventEnd:2128,unloadEventStart:2127,workerStart:2137};function ma(t,e){h("690.2096.2044",Object.assign({1701:t},r(),function(t){var e={};return Object.entries(la).forEach((function(n){var o=n[0],r=n[1];if(o in t){var i=t[o];"string"!=typeof i&&"number"!=typeof i||!i&&0!==i||(e[r]=Jt(i))}})),e}(e)))}var fa=new URL(K).origin,pa=[{rumId:"script--sdk",payPath:"/sdk/v1/pay.js"},{rumId:"frame--init",payPath:wn(q)},{rumId:"assets--button-ru-white",payPath:String(Oo)},{rumId:"assets--button-en-white",payPath:String(Io)},{rumId:"assets--button-ru-black",payPath:String(Mo)},{rumId:"assets--button-en-black",payPath:String(Bo)}];var ya,va,ga,ba,wa,ka,Sa,Ca=function(t){return t.Coupon="COUPON",t}({});ya={reqid:at,url:et,env:nt,page:"sdk",version:"133"},e(Object.assign({initTimestamp:Date.now()},ya)),window.YaPay||(wa=(ba={baseOrigin:fa,filter:pa,sendTimingInstance:ma}).baseOrigin,ka=ba.filter,Sa=ba.sendTimingInstance,ka.forEach((function(t){var e=t.rumId,n=t.payPath,o=t.url;n&&(ca[n]=e);var r=kn(o);r&&(ca[r]=e)})),sa||(sa=new PerformanceObserver((function(t){t.getEntries().forEach(ha)})),setTimeout((function(){sa.observe({type:"resource",buffered:!0}),sa.observe({type:"navigation",buffered:!0})}),0)),aa||(aa=Sa),ua||(ua=wa),g.then((function(t){var n=t.flags;De(t.experiments||""),function(t){e({experiments:Object.keys(t).map((function(e){return e+"="+t[e]})).join(";")})}(n)})),va=tt,ga=rt,function(t,e,n){ge=""+t,be=e,n&&(ve=n)}("73147015",{pageUrl:Be,hostname:window.location.hostname,ymUid:ga},va),function(){if(Zi){var t="IntersectionObserver"in window,e="attachShadow"in document.createElement("div"),n="customElements"in window,o="URLSearchParams"in window;t&&e&&n&&o?window.customElements.get($)||window.customElements.define($,Gi()):M("SDK: Browser does not support required features for badges",{hasIntersectionObserver:t,hasShadowRoot:e,hasCustomElements:n,hasURLSearchParams:o})}else M("SDK: Badges can be inited in browser only")}(),h("690.1033",r()),yr.getInstance(),M("SDK: Loaded",{sdkInFrame:Ot()}),window.crossOriginIsolated&&M("[COOP]: Cross origin isolated"),Ho.start(),ra.start(),window.YaPay={createPayment:function(t,n){void 0===n&&(n={});var o=pe.primary.fork();o.mark($t.SessionCreationStarted),pe.primary.mark($t.FirstSessionCreationStarted);var r=fi(t);xt(r),zt(r);var i=je(r);return o.bindBySession(i),e({sessionId:i,sheetEnv:r.env}),Ke(r,i,n.agent,n.source),new Promise((function(t,e){try{var n=yr.getInstance(),a=function(t,e){if(wt(t))return new xr(t,e);if(Kt(t))return new vi(t,e);if(St(t))throw new Error("createPayment does not support version 4");return new ki(t,e)}(r,i);t(a),n.sendMessage({type:or.IsReadyToPay,env:r.env,merchantId:Pt(r),merchantUrl:Ct(r),isCheckoutV2:Kt(r),paymentV3:qt(r.type)}),n.once(or.SdkReady,(function(t){var e=t.isWebview&&Ot(),o=n.paymentStart.get(i);o&&B("SDK: Payment started before init-frame was ready"),e&&!o&&ze(i),e&&t.readyToPay&&(tn(i),M("SDK: Webview in iframe",{fn:"createPayment"})),n.paymentReady.set(i,t.readyToPay&&!e)})),yi.setPayment(a),o.mark($t.SessionCreated)}catch(t){E("SDK: createPayment error",t),e(t)}}))},createCheckout:function(t,n){void 0===n&&(n={});var o=pe.primary.fork();o.mark($t.SessionCreationStarted),pe.primary.mark($t.FirstSessionCreationStarted);var r=fi(t);xt(r),zt(r);var i=je(r);return o.bindBySession(i),e({sessionId:i,sheetEnv:r.env}),Ke(r,i,n.agent,n.source),new Promise((function(t,e){try{var n=yr.getInstance();t(new xr(r,i)),n.sendMessage({type:or.IsReadyToPay,env:r.env,merchantId:r.merchantId,merchantUrl:Ct(r),isCheckoutV2:!1,paymentV3:qt(r.type)}),n.once(or.SdkReady,(function(t){var e=t.isWebview&&Ot(),o=n.paymentStart.get(i);o&&B("SDK: Payment started before init-frame was ready"),e&&!o&&ze(i),e&&t.readyToPay&&(tn(i),M("SDK: Webview in iframe",{fn:"createCheckout"})),n.paymentReady.set(i,t.readyToPay&&!e)})),o.mark($t.SessionCreated)}catch(t){E("SDK: createCheckout error",t),e(t)}}))},createSession:function(t,n){void 0===n&&(n={});var o=pe.primary.fork();o.mark($t.SessionCreationStarted),pe.primary.mark($t.FirstSessionCreationStarted);var r=fi(t);xt(r),zt(r);var i=je(r);return o.bindBySession(i),e({sessionId:i,sheetEnv:r.env}),Ke(r,i,n.agent,n.source),new Promise((function(t,e){try{var a=yr.getInstance();t(new Bi(r,n,i)),a.sendMessage({type:or.IsReadyToPay,env:r.env,merchantId:Pt(r),merchantUrl:Ct(r),isCheckoutV2:!1,paymentV3:qt(r.type)||(s=r.type,[ht.ByToken].includes(s))}),a.once(or.SdkReady,(function(t){var e=t.isWebview&&Ot(),n=a.paymentStart.get(i);n&&B("SDK: Payment started before init-frame was ready"),e&&!n&&ze(i),e&&t.readyToPay&&(tn(i),M("SDK: Webview in iframe",{fn:"createSession"})),a.paymentReady.set(i,t.readyToPay&&!e)})),o.mark($t.SessionCreated)}catch(t){E("SDK: createSession error",t),e(t)}var s}))},readyToPayCheck:function(){return Promise.resolve(!0)},splitAvailableCheck:function(){return Promise.resolve(!0)},mountBadge:function(t,e){try{if(!(t instanceof HTMLElement))throw new Error("The first argument should be an HTMLElement");var n=Ni(function(t){var e=t.merchantId,n=cn(t,ia);return Object.assign({},n,{"merchant-id":e})}(e)),o=document.createElement($);o.throwJs=!0,Object.entries(n).forEach((function(t){var e=t[0],n=t[1];o.setAttribute(e,n)})),t.appendChild(o),rn(e)}catch(t){B("SDK: mountBadge error",t),console.error(t)}},Button:yi,Robokassa:ta,Env:lt,PaymentEnv:lt,CountryCode:mt,CurrencyCode:ft,PaymentMethodType:yt,OrderItemType:pt,AllowedAuthMethod:vt,AllowedCardNetwork:gt,CheckoutEventType:er,PaymentEventType:er,AbortEventReason:nr,ErrorEventReason:function(){var t={};try{return new Proxy(t,{get:function(t,e){var n=String(e);return M("Usage of YaPay.ErrorEventReason."+n),console.warn("Yandex Pay SDK: YaPay.ErrorEventReason is deprecated."),$i()(n).toUpperCase()}})}catch(e){return M("YaPay.ErrorEventReason fallback returned",e),t}}(),UpdateErrorCode:Ca,MessageType:rr,CompleteReason:ir,ButtonType:O,ButtonTheme:x,ButtonWidth:_,ButtonEventType:T,WidgetType:A,WidgetTheme:R,RecurringType:bt})})()})();